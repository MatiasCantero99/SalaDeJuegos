import{b as Gr,c as zr,f as Sl,g as Kr}from"./chunk-SZXJF6TW.js";import{$,A as $t,Aa as Gt,B as Fn,Ba as Or,C as yr,Ca as Ir,D as Rn,Da as Je,E as vr,Ea as Pr,F as S,Fa as Fr,G as M,Ga as Rr,H as br,I as wr,Ia as Nr,J as Er,Ja as Vr,K as Nn,Ka as jr,L as Ut,La as Lr,M as Bt,Ma as $r,N as Le,Na as Ur,O as z,Oa as _t,P as De,Pa as Br,Q as I,Qa as qr,R as qt,Ra as Hr,S as Vn,T as ke,U as y,V as m,W as Q,X as jn,Y as Ln,Z as ie,_ as Sr,a as Ve,aa as F,b as hr,ba as Cr,c as dr,ca as Tr,da as Ar,e as fr,ea as Dr,f as pr,fa as Ai,g as k,ga as v,h as Vt,ha as Di,i as fe,ia as pe,j as pt,k as je,ka as xe,l as ve,la as Me,m as Ae,ma as Oe,n as jt,na as Ht,o as Z,oa as X,p as mt,pa as $n,q as ce,r as mr,ra as We,s as gr,sa as ki,t as _r,ta as Un,u as In,ua as kr,v as q,va as xr,w as H,wa as xi,x as Pn,xa as Mr,y as Lt,ya as Bn,z as gt,za as qn}from"./chunk-RUFLEC7E.js";import{a as N,b as te,c as ur,e as Te,g as wl,h as El,i as d}from"./chunk-P2VZOJAX.js";var js=Te(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var Ns=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vs.default=Ns});var $s=Te(ri=>{"use strict";var ta=ri&&ri.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ri,"__esModule",{value:!0});var Qu=ta((Kr(),El(Sl))),Yu=ta(js()),Ls=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Qu.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let i=this.fetch,s=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(r=>d(this,null,function*(){var o,a,l;let c=null,u=null,h=null,p=r.status,f=r.statusText;if(r.ok){if(this.method!=="HEAD"){let x=yield r.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=x:u=JSON.parse(x))}let _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(a=r.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{let _=yield r.text();try{c=JSON.parse(_),Array.isArray(c)&&r.status===404&&(u=[],c=null,p=200,f="OK")}catch{r.status===404&&_===""?(p=204,f="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c?.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,f="OK"),c&&this.shouldThrowOnError)throw new Yu.default(c)}return{error:c,data:u,count:h,status:p,statusText:f}}));return this.shouldThrowOnError||(s=s.catch(r=>{var o,a,l;return{error:{message:`${(o=r?.name)!==null&&o!==void 0?o:"FetchError"}: ${r?.message}`,details:`${(a=r?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=r?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}};ri.default=Ls});var Bs=Te(oi=>{"use strict";var Zu=oi&&oi.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(oi,"__esModule",{value:!0});var Xu=Zu($s()),Us=class extends Xu.default{select(t){let e=!1,i=(t??"*").split("").map(s=>/\s/.test(s)&&!e?"":(s==='"'&&(e=!e),s)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:i,foreignTable:s,referencedTable:r=s}={}){let o=r?`${r}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:i=e}={}){let s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,e,{foreignTable:i,referencedTable:s=i}={}){let r=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:i=!1,buffers:s=!1,wal:r=!1,format:o="text"}={}){var a;let l=[t?"analyze":null,e?"verbose":null,i?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};oi.default=Us});var on=Te(ai=>{"use strict";var eh=ai&&ai.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ai,"__esModule",{value:!0});var th=eh(Bs()),qs=class extends th.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let i=Array.from(new Set(e)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:i,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");let o=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${r}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,i])=>{this.url.searchParams.append(e,`eq.${i}`)}),this}not(t,e,i){return this.url.searchParams.append(t,`not.${e}.${i}`),this}or(t,{foreignTable:e,referencedTable:i=e}={}){let s=i?`${i}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,e,i){return this.url.searchParams.append(t,`${e}.${i}`),this}};ai.default=qs});var Gs=Te(ci=>{"use strict";var ih=ci&&ci.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ci,"__esModule",{value:!0});var li=ih(on()),Hs=class{constructor(t,{headers:e={},schema:i,fetch:s}){this.url=t,this.headers=e,this.schema=i,this.fetch=s}select(t,{head:e=!1,count:i}={}){let s=e?"HEAD":"GET",r=!1,o=(t??"*").split("").map(a=>/\s/.test(a)&&!r?"":(a==='"'&&(r=!r),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:i=!0}={}){let s="POST",r=[];if(this.headers.Prefer&&r.push(this.headers.Prefer),e&&r.push(`count=${e}`),i||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){let o=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){let a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new li.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:i=!1,count:s,defaultToNull:r=!0}={}){let o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),r||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){let c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new li.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let i="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),this.headers.Prefer=s.join(","),new li.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new li.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ci.default=Hs});var ia=Te(an=>{"use strict";Object.defineProperty(an,"__esModule",{value:!0});an.version=void 0;an.version="0.0.0-automated"});var na=Te(ln=>{"use strict";Object.defineProperty(ln,"__esModule",{value:!0});ln.DEFAULT_HEADERS=void 0;var nh=ia();ln.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${nh.version}`}});var ra=Te(ui=>{"use strict";var sa=ui&&ui.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ui,"__esModule",{value:!0});var sh=sa(Gs()),rh=sa(on()),oh=na(),zs=class n{constructor(t,{headers:e={},schema:i,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},oh.DEFAULT_HEADERS),e),this.schemaName=i,this.fetch=s}from(t){let e=new URL(`${this.url}/${t}`);return new sh.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:i=!1,get:s=!1,count:r}={}){let o,a=new URL(`${this.url}/rpc/${t}`),l;i||s?(o=i?"HEAD":"GET",Object.entries(e).filter(([u,h])=>h!==void 0).map(([u,h])=>[u,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([u,h])=>{a.searchParams.append(u,h)})):(o="POST",l=e);let c=Object.assign({},this.headers);return r&&(c.Prefer=`count=${r}`),new rh.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ui.default=zs});var da=Te(K=>{"use strict";var Tt=K&&K.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(K,"__esModule",{value:!0});K.PostgrestError=K.PostgrestBuilder=K.PostgrestTransformBuilder=K.PostgrestFilterBuilder=K.PostgrestQueryBuilder=K.PostgrestClient=void 0;var oa=Tt(ra());K.PostgrestClient=oa.default;var aa=Tt(Gs());K.PostgrestQueryBuilder=aa.default;var la=Tt(on());K.PostgrestFilterBuilder=la.default;var ca=Tt(Bs());K.PostgrestTransformBuilder=ca.default;var ua=Tt($s());K.PostgrestBuilder=ua.default;var ha=Tt(js());K.PostgrestError=ha.default;K.default={PostgrestClient:oa.default,PostgrestQueryBuilder:aa.default,PostgrestFilterBuilder:la.default,PostgrestTransformBuilder:ca.default,PostgrestBuilder:ua.default,PostgrestError:ha.default}});var A=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(A||{}),be="*";function Wr(n,t){return{type:A.Trigger,name:n,definitions:t,options:{}}}function Hn(n,t=null){return{type:A.Animate,styles:t,timings:n}}function Jr(n,t=null){return{type:A.Sequence,steps:n,options:t}}function Qe(n){return{type:A.Style,styles:n,offset:null}}function Mi(n,t,e){return{type:A.State,name:n,styles:t,options:e}}function Gn(n,t,e=null){return{type:A.Transition,expr:n,animation:t,options:e}}var $e=class{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},zt=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,s=0,r=this.players.length;r==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++e==r&&this._onFinish()}),o.onDestroy(()=>{++i==r&&this._onDestroy()}),o.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let s=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(s)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Oi="!";var Qr=["toast-component",""];function Cl(n,t){if(n&1){let e=ie();y(0,"button",5),$("click",function(){q(e);let s=F();return H(s.remove())}),y(1,"span",6),v(2,"\xD7"),m()()}}function Tl(n,t){if(n&1&&(jn(0),v(1),Ln()),n&2){let e=F(2);S(),pe("[",e.duplicatesCount+1,"]")}}function Al(n,t){if(n&1&&(y(0,"div"),v(1),z(2,Tl,2,1,"ng-container",4),m()),n&2){let e=F();ke(e.options.titleClass),De("aria-label",e.title),S(),pe(" ",e.title," "),S(),I("ngIf",e.duplicatesCount)}}function Dl(n,t){if(n&1&&Q(0,"div",7),n&2){let e=F();ke(e.options.messageClass),I("innerHTML",e.message,Rn)}}function kl(n,t){if(n&1&&(y(0,"div",8),v(1),m()),n&2){let e=F();ke(e.options.messageClass),De("aria-label",e.message),S(),pe(" ",e.message," ")}}function xl(n,t){if(n&1&&(y(0,"div"),Q(1,"div",9),m()),n&2){let e=F();S(),qt("width",e.width()+"%")}}function Ml(n,t){if(n&1){let e=ie();y(0,"button",5),$("click",function(){q(e);let s=F();return H(s.remove())}),y(1,"span",6),v(2,"\xD7"),m()()}}function Ol(n,t){if(n&1&&(jn(0),v(1),Ln()),n&2){let e=F(2);S(),pe("[",e.duplicatesCount+1,"]")}}function Il(n,t){if(n&1&&(y(0,"div"),v(1),z(2,Ol,2,1,"ng-container",4),m()),n&2){let e=F();ke(e.options.titleClass),De("aria-label",e.title),S(),pe(" ",e.title," "),S(),I("ngIf",e.duplicatesCount)}}function Pl(n,t){if(n&1&&Q(0,"div",7),n&2){let e=F();ke(e.options.messageClass),I("innerHTML",e.message,Rn)}}function Fl(n,t){if(n&1&&(y(0,"div",8),v(1),m()),n&2){let e=F();ke(e.options.messageClass),De("aria-label",e.message),S(),pe(" ",e.message," ")}}function Rl(n,t){if(n&1&&(y(0,"div"),Q(1,"div",9),m()),n&2){let e=F();S(),qt("width",e.width()+"%")}}var zn=class{_attachedHost;component;viewContainerRef;injector;constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){let t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Kn=class{_attachedPortal;_disposeFn;attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}},Wn=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Ve;_activate=new Ve;_manualClose=new Ve;_resetTimeout=new Ve;_countDuplicate=new Ve;constructor(t){this._overlayRef=t}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},yt=class{toastId;config;message;title;toastType;toastRef;_onTap=new Ve;_onAction=new Ve;constructor(t,e,i,s,r,o){this.toastId=t,this.config=e,this.message=i,this.title=s,this.toastType=r,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}},Yr={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Zr=new je("ToastConfig"),Jn=class extends Kn{_hostDomElement;_componentFactoryResolver;_appRef;constructor(t,e,i){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=i}attachComponentPortal(t,e){let i=this._componentFactoryResolver.resolveComponentFactory(t.component),s;return s=i.create(t.injector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(s),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(s)),s}_getComponentRootNode(t){return t.hostView.rootNodes[0]}},Nl=(()=>{class n{_document=Ae(Gt);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qn=class{_portalHost;constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}},Vl=(()=>{class n{_overlayContainer=Ae(Nl);_componentFactoryResolver=Ae(wr);_appRef=Ae(xi);_document=Ae(Gt);_paneElements=new Map;create(e,i){return this._createOverlayRef(this.getPaneElement(e,i))}getPaneElement(e="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[e]||(this._paneElements.get(i)[e]=this._createPaneElement(e,i)),this._paneElements.get(i)[e]}_createPaneElement(e,i){let s=this._document.createElement("div");return s.id="toast-container",s.classList.add(e),s.classList.add("toast-container"),i?i.getContainerElement().appendChild(s):this._overlayContainer.getContainerElement().appendChild(s),s}_createPortalHost(e){return new Jn(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Qn(this._createPortalHost(e))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ii=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,i,s,r,o){this.overlay=i,this._injector=s,this.sanitizer=r,this.ngZone=o,this.toastrConfig=N(N({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=N(N({},e.default.iconClasses),e.config.iconClasses))}show(e,i,s={},r=""){return this._preBuildNotification(r,e,i,this.applyConfig(s))}success(e,i,s={}){let r=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(r,e,i,this.applyConfig(s))}error(e,i,s={}){let r=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(r,e,i,this.applyConfig(s))}info(e,i,s={}){let r=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(r,e,i,this.applyConfig(s))}warning(e,i,s={}){let r=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(r,e,i,this.applyConfig(s))}clear(e){for(let i of this.toasts)if(e!==void 0){if(i.toastId===e){i.toastRef.manualClose();return}}else i.toastRef.manualClose()}remove(e){let i=this._findToast(e);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let s=this.toasts[this.currentlyActive].toastRef;s.isInactive()||(this.currentlyActive=this.currentlyActive+1,s.activate())}return!0}findDuplicate(e="",i="",s,r){let{includeTitleDuplicates:o}=this.toastrConfig;for(let a of this.toasts){let l=o&&a.title===e;if((!o||l)&&a.message===i)return a.toastRef.onDuplicate(s,r),a}return null}applyConfig(e={}){return N(N({},this.toastrConfig),e)}_findToast(e){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===e)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(e,i,s,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,i,s,r)):this._buildNotification(e,i,s,r)}_buildNotification(e,i,s,r){if(!r.toastComponent)throw new Error("toastComponent required");let o=this.findDuplicate(s,i,this.toastrConfig.resetTimeoutOnDuplicate&&r.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&s||i)&&this.toastrConfig.preventDuplicates&&o!==null)return o;this.previousToastMessage=i;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let l=this.overlay.create(r.positionClass,this.overlayContainer);this.index=this.index+1;let c=i;i&&r.enableHtml&&(c=this.sanitizer.sanitize(yr.HTML,i));let u=new Wn(l),h=new yt(this.index,r,c,s,e,u),p=[{provide:yt,useValue:h}],f=Lt.create({providers:p,parent:this._injector}),g=new zn(r.toastComponent,f),_=l.attach(g,r.newestOnTop);u.componentInstance=_.instance;let b={toastId:this.index,title:s||"",message:i||"",toastRef:u,onShown:u.afterActivate(),onHidden:u.afterClosed(),onTap:h.onTap(),onAction:h.onAction(),portal:_};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{b.toastRef.activate()})),this.toasts.push(b),b}static \u0275fac=function(i){return new(i||n)(ve(Zr),ve(Vl),ve(Lt),ve($r),ve(Ut))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jl=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=Bt(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,s){this.toastrService=e,this.toastPackage=i,this.ngZone=s,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r}),this.state=Bt({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>te(N({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(s=>100-s),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>te(N({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>te(N({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),i)):this.timeout=setTimeout(()=>e(),i)}outsideInterval(e,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),i)):this.intervalId=setInterval(()=>e(),i)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(i){return new(i||n)(M(Ii),M(yt),M(Ut))};static \u0275cmp=Z({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(i,s){i&1&&$("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),i&2&&(Sr("@flyInOut",s._state),ke(s.toastClasses),qt("display",s.displayStyle))},standalone:!0,features:[X],attrs:Qr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,s){i&1&&z(0,Cl,3,0,"button",0)(1,Al,3,5,"div",1)(2,Dl,1,3,"div",2)(3,kl,2,4,"div",3)(4,xl,2,2,"div",4),i&2&&(I("ngIf",s.options.closeButton),S(),I("ngIf",s.title),S(),I("ngIf",s.message&&s.options.enableHtml),S(),I("ngIf",s.message&&!s.options.enableHtml),S(),I("ngIf",s.options.progressBar))},dependencies:[Je],encapsulation:2,data:{animation:[Wr("flyInOut",[Mi("inactive",Qe({opacity:0})),Mi("active",Qe({opacity:1})),Mi("removed",Qe({opacity:0})),Gn("inactive => active",Hn("{{ easeTime }}ms {{ easing }}")),Gn("active => removed",Hn("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),Ll=te(N({},Yr),{toastComponent:jl}),Xr=(n={})=>gr([{provide:Zr,useValue:{default:Ll,config:n}}]);var $l=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=Bt(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=Bt("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,i,s){this.toastrService=e,this.toastPackage=i,this.appRef=s,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(r=>{this.duplicatesCount=r})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),i=this.hideTime-e;this.width.set(i/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(s=>100-s),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(i){return new(i||n)(M(Ii),M(yt),M(xi))};static \u0275cmp=Z({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(i,s){i&1&&$("click",function(){return s.tapToast()})("mouseenter",function(){return s.stickAround()})("mouseleave",function(){return s.delayedHideToast()}),i&2&&(ke(s.toastClasses),qt("display",s.displayStyle))},standalone:!0,features:[X],attrs:Qr,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(i,s){i&1&&z(0,Ml,3,0,"button",0)(1,Il,3,5,"div",1)(2,Pl,1,3,"div",2)(3,Fl,2,4,"div",3)(4,Rl,2,2,"div",4),i&2&&(I("ngIf",s.options.closeButton),S(),I("ngIf",s.title),S(),I("ngIf",s.message&&s.options.enableHtml),S(),I("ngIf",s.message&&!s.options.enableHtml),S(),I("ngIf",s.options.progressBar))},dependencies:[Je],encapsulation:2,changeDetection:0})}return n})(),vd=te(N({},Yr),{toastComponent:$l});function eo(n){return new k(3e3,!1)}function Bl(){return new k(3100,!1)}function ql(){return new k(3101,!1)}function Hl(n){return new k(3001,!1)}function Gl(n){return new k(3003,!1)}function zl(n){return new k(3004,!1)}function Kl(n,t){return new k(3005,!1)}function Wl(){return new k(3006,!1)}function Jl(){return new k(3007,!1)}function Ql(n,t){return new k(3008,!1)}function Yl(n){return new k(3002,!1)}function Zl(n,t,e,i,s){return new k(3010,!1)}function Xl(){return new k(3011,!1)}function ec(){return new k(3012,!1)}function tc(){return new k(3200,!1)}function ic(){return new k(3202,!1)}function nc(){return new k(3013,!1)}function sc(n){return new k(3014,!1)}function rc(n){return new k(3015,!1)}function oc(n){return new k(3016,!1)}function ac(n,t){return new k(3404,!1)}function lc(n){return new k(3502,!1)}function cc(n){return new k(3503,!1)}function uc(){return new k(3300,!1)}function hc(n){return new k(3504,!1)}function dc(n){return new k(3301,!1)}function fc(n,t){return new k(3302,!1)}function pc(n){return new k(3303,!1)}function mc(n,t){return new k(3400,!1)}function gc(n){return new k(3401,!1)}function _c(n){return new k(3402,!1)}function yc(n,t){return new k(3505,!1)}function Ue(n){switch(n.length){case 0:return new $e;case 1:return n[0];default:return new zt(n)}}function mo(n,t,e=new Map,i=new Map){let s=[],r=[],o=-1,a=null;if(t.forEach(l=>{let c=l.get("offset"),u=c==o,h=u&&a||new Map;l.forEach((p,f)=>{let g=f,_=p;if(f!=="offset")switch(g=n.normalizePropertyName(g,s),_){case Oi:_=e.get(f);break;case be:_=i.get(f);break;default:_=n.normalizeStyleValue(f,g,_,s);break}h.set(g,_)}),u||r.push(h),a=h,o=c}),s.length)throw lc(s);return r}function vs(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Yn(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Yn(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Yn(e,"destroy",n)));break}}function Yn(n,t,e){let i=e.totalTime,s=!!e.disabled,r=bs(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,i??n.totalTime,s),o=n._data;return o!=null&&(r._data=o),r}function bs(n,t,e,i,s="",r=0,o){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:s,totalTime:r,disabled:!!o}}function oe(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function to(n){let t=n.indexOf(":"),e=n.substring(1,t),i=n.slice(t+1);return[e,i]}var vc=typeof document>"u"?null:document.documentElement;function ws(n){let t=n.parentNode||n.host||null;return t===vc?null:t}function bc(n){return n.substring(1,6)=="ebkit"}var Ye=null,io=!1;function wc(n){Ye||(Ye=Ec()||{},io=Ye.style?"WebkitAppearance"in Ye.style:!1);let t=!0;return Ye.style&&!bc(n)&&(t=n in Ye.style,!t&&io&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ye.style)),t}function Ec(){return typeof document<"u"?document.body:null}function go(n,t){for(;t;){if(t===n)return!0;t=ws(t)}return!1}function _o(n,t,e){if(e)return Array.from(n.querySelectorAll(t));let i=n.querySelector(t);return i?[i]:[]}var Es=(()=>{class n{validateStyleProperty(e){return wc(e)}matchesElement(e,i){return!1}containsElement(e,i){return go(e,i)}getParentElement(e){return ws(e)}query(e,i,s){return _o(e,i,s)}computeStyle(e,i,s){return s||""}animate(e,i,s,r,o,a=[],l){return new $e(s,r)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})(),et=class{static{this.NOOP=new Es}},tt=class{};var Sc=1e3,yo="{{",Cc="}}",vo="ng-enter",ns="ng-leave",Pi="ng-trigger",ji=".ng-trigger",no="ng-animating",ss=".ng-animating";function Ie(n){if(typeof n=="number")return n;let t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:rs(parseFloat(t[1]),t[2])}function rs(n,t){switch(t){case"s":return n*Sc;default:return n}}function Li(n,t,e){return n.hasOwnProperty("duration")?n:Tc(n,t,e)}function Tc(n,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,r=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return t.push(eo(n)),{duration:0,delay:0,easing:""};s=rs(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(r=rs(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else s=n;if(!e){let a=!1,l=t.length;s<0&&(t.push(Bl()),a=!0),r<0&&(t.push(ql()),a=!0),a&&t.splice(l,0,eo(n))}return{duration:s,delay:r,easing:o}}function Ac(n){return n.length?n[0]instanceof Map?n:n.map(t=>new Map(Object.entries(t))):[]}function we(n,t,e){t.forEach((i,s)=>{let r=Ss(s);e&&!e.has(s)&&e.set(s,n.style[r]),n.style[r]=i})}function Xe(n,t){t.forEach((e,i)=>{let s=Ss(i);n.style[s]=""})}function Kt(n){return Array.isArray(n)?n.length==1?n[0]:Jr(n):n}function Dc(n,t,e){let i=t.params||{},s=bo(n);s.length&&s.forEach(r=>{i.hasOwnProperty(r)||e.push(Hl(r))})}var os=new RegExp(`${yo}\\s*(.+?)\\s*${Cc}`,"g");function bo(n){let t=[];if(typeof n=="string"){let e;for(;e=os.exec(n);)t.push(e[1]);os.lastIndex=0}return t}function Jt(n,t,e){let i=`${n}`,s=i.replace(os,(r,o)=>{let a=t[o];return a==null&&(e.push(Gl(o)),a=""),a.toString()});return s==i?n:s}var kc=/-+([a-z0-9])/g;function Ss(n){return n.replace(kc,(...t)=>t[1].toUpperCase())}function xc(n,t){return n===0||t===0}function Mc(n,t,e){if(e.size&&t.length){let i=t[0],s=[];if(e.forEach((r,o)=>{i.has(o)||s.push(o),i.set(o,r)}),s.length)for(let r=1;r<t.length;r++){let o=t[r];s.forEach(a=>o.set(a,Cs(n,a)))}}return t}function re(n,t,e){switch(t.type){case A.Trigger:return n.visitTrigger(t,e);case A.State:return n.visitState(t,e);case A.Transition:return n.visitTransition(t,e);case A.Sequence:return n.visitSequence(t,e);case A.Group:return n.visitGroup(t,e);case A.Animate:return n.visitAnimate(t,e);case A.Keyframes:return n.visitKeyframes(t,e);case A.Style:return n.visitStyle(t,e);case A.Reference:return n.visitReference(t,e);case A.AnimateChild:return n.visitAnimateChild(t,e);case A.AnimateRef:return n.visitAnimateRef(t,e);case A.Query:return n.visitQuery(t,e);case A.Stagger:return n.visitStagger(t,e);default:throw zl(t.type)}}function Cs(n,t){return window.getComputedStyle(n)[t]}var Oc=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),$i=class extends tt{normalizePropertyName(t,e){return Ss(t)}normalizeStyleValue(t,e,i,s){let r="",o=i.toString().trim();if(Oc.has(e)&&i!==0&&i!=="0")if(typeof i=="number")r="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&s.push(Kl(t,i))}return o+r}};var Ui="*";function Ic(n,t){let e=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>Pc(i,e,t)):e.push(n),e}function Pc(n,t,e){if(n[0]==":"){let l=Fc(n,e);if(typeof l=="function"){t.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(rc(n)),t;let s=i[1],r=i[2],o=i[3];t.push(so(s,o));let a=s==Ui&&o==Ui;r[0]=="<"&&!a&&t.push(so(o,s))}function Fc(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(oc(n)),"* => *"}}var Fi=new Set(["true","1"]),Ri=new Set(["false","0"]);function so(n,t){let e=Fi.has(n)||Ri.has(n),i=Fi.has(t)||Ri.has(t);return(s,r)=>{let o=n==Ui||n==s,a=t==Ui||t==r;return!o&&e&&typeof s=="boolean"&&(o=s?Fi.has(n):Ri.has(n)),!a&&i&&typeof r=="boolean"&&(a=r?Fi.has(t):Ri.has(t)),o&&a}}var wo=":self",Rc=new RegExp(`s*${wo}s*,?`,"g");function Eo(n,t,e,i){return new as(n).build(t,e,i)}var ro="",as=class{constructor(t){this._driver=t}build(t,e,i){let s=new ls(e);return this._resetContextStyleTimingState(s),re(this,Kt(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector=ro,t.collectedStyles=new Map,t.collectedStyles.set(ro,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,s=e.depCount=0,r=[],o=[];return t.name.charAt(0)=="@"&&e.errors.push(Wl()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),a.type==A.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,r.push(this.visitState(l,e))}),l.name=c}else if(a.type==A.Transition){let l=this.visitTransition(a,e);i+=l.queryCount,s+=l.depCount,o.push(l)}else e.errors.push(Jl())}),{type:A.Trigger,name:t.name,states:r,transitions:o,queryCount:i,depCount:s,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(i.containsDynamicStyles){let r=new Set,o=s||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{bo(l).forEach(c=>{o.hasOwnProperty(c)||r.add(c)})})}),r.size&&e.errors.push(Ql(t.name,[...r.values()]))}return{type:A.State,name:t.name,style:i,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=re(this,Kt(t.animation),e),s=Ic(t.expr,e.errors);return{type:A.Transition,matchers:s,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ze(t.options)}}visitSequence(t,e){return{type:A.Sequence,steps:t.steps.map(i=>re(this,i,e)),options:Ze(t.options)}}visitGroup(t,e){let i=e.currentTime,s=0,r=t.steps.map(o=>{e.currentTime=i;let a=re(this,o,e);return s=Math.max(s,e.currentTime),a});return e.currentTime=s,{type:A.Group,steps:r,options:Ze(t.options)}}visitAnimate(t,e){let i=Lc(t.timings,e.errors);e.currentAnimateTimings=i;let s,r=t.styles?t.styles:Qe({});if(r.type==A.Keyframes)s=this.visitKeyframes(r,e);else{let o=t.styles,a=!1;if(!o){a=!0;let c={};i.easing&&(c.easing=i.easing),o=Qe(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,e);l.isEmptyStep=a,s=l}return e.currentAnimateTimings=null,{type:A.Animate,timings:i,style:s,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let a of s)typeof a=="string"?a===be?i.push(a):e.errors.push(Yl(a)):i.push(new Map(Object.entries(a)));let r=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!r)){for(let l of a.values())if(l.toString().indexOf(yo)>=0){r=!0;break}}}),{type:A.Style,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,s=e.currentTime,r=e.currentTime;i&&r>0&&(r-=i.duration+i.delay),t.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),u=c.get(l),h=!0;u&&(r!=s&&r>=u.startTime&&s<=u.endTime&&(e.errors.push(Zl(l,u.startTime,u.endTime,r,s)),h=!1),r=u.startTime),h&&c.set(l,{startTime:r,endTime:s}),e.options&&Dc(a,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:A.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Xl()),i;let s=1,r=0,o=[],a=!1,l=!1,c=0,u=t.steps.map(x=>{let R=this._makeStyleAst(x,e),V=R.offset!=null?R.offset:jc(R.styles),P=0;return V!=null&&(r++,P=R.offset=V),l=l||P<0||P>1,a=a||P<c,c=P,o.push(P),R});l&&e.errors.push(ec()),a&&e.errors.push(tc());let h=t.steps.length,p=0;r>0&&r<h?e.errors.push(ic()):r==0&&(p=s/(h-1));let f=h-1,g=e.currentTime,_=e.currentAnimateTimings,b=_.duration;return u.forEach((x,R)=>{let V=p>0?R==f?1:p*R:o[R],P=V*b;e.currentTime=g+_.delay+P,_.duration=P,this._validateStyleAst(x,e),x.offset=V,i.styles.push(x)}),i}visitReference(t,e){return{type:A.Reference,animation:re(this,Kt(t.animation),e),options:Ze(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:A.AnimateChild,options:Ze(t.options)}}visitAnimateRef(t,e){return{type:A.AnimateRef,animation:this.visitReference(t.animation,e),options:Ze(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;let[r,o]=Nc(t.selector);e.currentQuerySelector=i.length?i+" "+r:r,oe(e.collectedStyles,e.currentQuerySelector,new Map);let a=re(this,Kt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:A.Query,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:o,animation:a,originalSelector:t.selector,options:Ze(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(nc());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:Li(t.timings,e.errors,!0);return{type:A.Stagger,animation:re(this,Kt(t.animation),e),timings:i,options:null}}};function Nc(n){let t=!!n.split(/\s*,\s*/).find(e=>e==wo);return t&&(n=n.replace(Rc,"")),n=n.replace(/@\*/g,ji).replace(/@\w+/g,e=>ji+"-"+e.slice(1)).replace(/:animating/g,ss),[n,t]}function Vc(n){return n?N({},n):null}var ls=class{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function jc(n){if(typeof n=="string")return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Lc(n,t){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let r=Li(n,t).duration;return Zn(r,0,"")}let e=n;if(e.split(/\s+/).some(r=>r.charAt(0)=="{"&&r.charAt(1)=="{")){let r=Zn(0,0,"");return r.dynamic=!0,r.strValue=e,r}let s=Li(e,t);return Zn(s.duration,s.delay,s.easing)}function Ze(n){return n?(n=N({},n),n.params&&(n.params=Vc(n.params))):n={},n}function Zn(n,t,e){return{duration:n,delay:t,easing:e}}function Ts(n,t,e,i,s,r,o=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:s,delay:r,totalTime:s+r,easing:o,subTimeline:a}}var Qt=class{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},$c=1,Uc=":enter",Bc=new RegExp(Uc,"g"),qc=":leave",Hc=new RegExp(qc,"g");function So(n,t,e,i,s,r=new Map,o=new Map,a,l,c=[]){return new cs().buildKeyframes(n,t,e,i,s,r,o,a,l,c)}var cs=class{buildKeyframes(t,e,i,s,r,o,a,l,c,u=[]){c=c||new Qt;let h=new us(t,e,c,s,r,u,[]);h.options=l;let p=l.delay?Ie(l.delay):0;h.currentTimeline.delayNextStep(p),h.currentTimeline.setStyles([o],null,h.errors,l),re(this,i,h);let f=h.timelines.filter(g=>g.containsAnimation());if(f.length&&a.size){let g;for(let _=f.length-1;_>=0;_--){let b=f[_];if(b.element===e){g=b;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,h.errors,l)}return f.length?f.map(g=>g.buildKeyframes()):[Ts(e,[],[],[],0,p,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let s=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(i,s,s.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let s of t){let r=s?.delay;if(r){let o=typeof r=="number"?r:Ie(Jt(r,s?.params??{},e.errors));i.delayNextStep(o)}}}_visitSubInstructions(t,e,i){let r=e.currentTimeline.currentTime,o=i.duration!=null?Ie(i.duration):null,a=i.delay!=null?Ie(i.delay):null;return o!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,o,a);r=Math.max(r,c.duration+c.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),re(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,s=e,r=t.options;if(r&&(r.params||r.delay)&&(s=e.createSubContext(r),s.transformIntoNewTimeline(),r.delay!=null)){s.previousNode.type==A.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Bi);let o=Ie(r.delay);s.delayNextStep(o)}t.steps.length&&(t.steps.forEach(o=>re(this,o,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>i&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],s=e.currentTimeline.currentTime,r=t.options&&t.options.delay?Ie(t.options.delay):0;t.steps.forEach(o=>{let a=e.createSubContext(t.options);r&&a.delayNextStep(r),re(this,o,a),s=Math.max(s,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>e.currentTimeline.mergeTimelineCollectedStyles(o)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,s=e.params?Jt(i,e.params,e.errors):i;return Li(s,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),s.snapshotCurrentStyles());let r=t.style;r.type==A.Keyframes?this.visitKeyframes(r,e):(e.incrementTime(i.duration),this.visitStyle(r,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,s=e.currentAnimateTimings;!s&&i.hasCurrentStyleProperties()&&i.forwardFrame();let r=s&&s.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(r):i.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,s=e.currentTimeline.duration,r=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*r),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(s+r),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,s=t.options||{},r=s.delay?Ie(s.delay):0;r&&(e.previousNode.type===A.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Bi);let o=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{e.currentQueryIndex=u;let h=e.createSubContext(t.options,c);r&&h.delayNextStep(r),c===e.element&&(l=h.currentTimeline),re(this,t.animation,h),h.currentTimeline.applyStylesToKeyframe();let p=h.currentTimeline.currentTime;o=Math.max(o,p)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,s=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),a=o*(e.currentQueryTotal-1),l=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let u=e.currentTimeline;l&&u.delayNextStep(l);let h=u.currentTime;re(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=s.currentTime-h+(s.startTime-i.currentTimeline.startTime)}},Bi={},us=class n{constructor(t,e,i,s,r,o,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=s,this._leaveClassName=r,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Bi,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new qi(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,s=this.options;i.duration!=null&&(s.duration=Ie(i.duration)),i.delay!=null&&(s.delay=Ie(i.delay));let r=i.params;if(r){let o=s.params;o||(o=this.options.params={}),Object.keys(r).forEach(a=>{(!e||!o.hasOwnProperty(a))&&(o[a]=Jt(r[a],o,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(s=>{i[s]=e[s]})}}return t}createSubContext(t=null,e,i){let s=e||this.element,r=new n(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,i||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=Bi,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},r=new hs(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,s,r,o){let a=[];if(s&&a.push(this.element),t.length>0){t=t.replace(Bc,"."+this._enterClassName),t=t.replace(Hc,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!r&&a.length==0&&o.push(sc(e)),a}},qi=class n{constructor(t,e,i,s){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=s,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new n(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$c,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||be),this._currentKeyframe.set(e,be);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,s){e&&this._previousKeyframe.set("easing",e);let r=s&&s.params||{},o=Gc(t,this._globalTimelineStyles);for(let[a,l]of o){let c=Jt(l,r,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??be),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let s=this._styleSummary.get(i);(!s||e.time>s.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,h)=>{u===Oi?t.add(h):u===be&&e.add(h)}),i||c.set("offset",l/this.duration),s.push(c)});let r=[...t.values()],o=[...e.values()];if(i){let a=s[0],l=new Map(a);a.set("offset",0),l.set("offset",1),s=[a,l]}return Ts(this.element,s,r,o,this.duration,this.startTime,this.easing,!1)}},hs=class extends qi{constructor(t,e,i,s,r,o,a=!1){super(t,e,o.delay),this.keyframes=i,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){let r=[],o=i+e,a=e/o,l=new Map(t[0]);l.set("offset",0),r.push(l);let c=new Map(t[0]);c.set("offset",oo(a)),r.push(c);let u=t.length-1;for(let h=1;h<=u;h++){let p=new Map(t[h]),f=p.get("offset"),g=e+f*i;p.set("offset",oo(g/o)),r.push(p)}i=o,e=0,s="",t=r}return Ts(this.element,t,this.preStyleProps,this.postStyleProps,i,e,s,!0)}};function oo(n,t=3){let e=Math.pow(10,t-1);return Math.round(n*e)/e}function Gc(n,t){let e=new Map,i;return n.forEach(s=>{if(s==="*"){i??=t.keys();for(let r of i)e.set(r,be)}else for(let[r,o]of s)e.set(r,o)}),e}function ao(n,t,e,i,s,r,o,a,l,c,u,h,p){return{type:0,element:n,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:r,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:p}}var Xn={},Hi=class{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,s){return zc(this.ast.matchers,t,e,i,s)}buildStyles(t,e,i){let s=this._stateStyles.get("*");return t!==void 0&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,i):new Map}build(t,e,i,s,r,o,a,l,c,u){let h=[],p=this.ast.options&&this.ast.options.params||Xn,f=a&&a.params||Xn,g=this.buildStyles(i,f,h),_=l&&l.params||Xn,b=this.buildStyles(s,_,h),x=new Set,R=new Map,V=new Map,P=s==="void",W={params:Co(_,p),delay:this.ast.options?.delay},G=u?[]:So(t,e,this.ast.animation,r,o,g,b,W,c,h),Y=0;return G.forEach(ee=>{Y=Math.max(ee.duration+ee.delay,Y)}),h.length?ao(e,this._triggerName,i,s,P,g,b,[],[],R,V,Y,h):(G.forEach(ee=>{let Ge=ee.element,ft=oe(R,Ge,new Set);ee.preStyleProps.forEach(ze=>ft.add(ze));let or=oe(V,Ge,new Set);ee.postStyleProps.forEach(ze=>or.add(ze)),Ge!==e&&x.add(Ge)}),ao(e,this._triggerName,i,s,P,g,b,G,[...x.values()],R,V,Y))}};function zc(n,t,e,i,s){return n.some(r=>r(t,e,i,s))}function Co(n,t){let e=N({},t);return Object.entries(n).forEach(([i,s])=>{s!=null&&(e[i]=s)}),e}var ds=class{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,s=Co(t,this.defaultParams);return this.styles.styles.forEach(r=>{typeof r!="string"&&r.forEach((o,a)=>{o&&(o=Jt(o,s,e));let l=this.normalizer.normalizePropertyName(a,e);o=this.normalizer.normalizeStyleValue(a,l,o,e),i.set(a,o)})}),i}};function Kc(n,t,e){return new fs(n,t,e)}var fs=class{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(s=>{let r=s.options&&s.options.params||{};this.states.set(s.name,new ds(s.style,r,i))}),lo(this.states,"true","1"),lo(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new Hi(t,s,this.states))}),this.fallbackTransition=Wc(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,s){return this.transitionFactories.find(o=>o.match(t,e,i,s))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function Wc(n,t,e){let i=[(o,a)=>!0],s={type:A.Sequence,steps:[],options:null},r={type:A.Transition,animation:s,matchers:i,options:null,queryCount:0,depCount:0};return new Hi(n,r,t)}function lo(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}var Jc=new Qt,ps=class{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){let i=[],s=[],r=Eo(this._driver,e,i,s);if(i.length)throw cc(i);s.length&&void 0,this._animations.set(t,r)}_buildPlayer(t,e,i){let s=t.element,r=mo(this._normalizer,t.keyframes,e,i);return this._driver.animate(s,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let s=[],r=this._animations.get(t),o,a=new Map;if(r?(o=So(this._driver,e,r,vo,ns,new Map,new Map,i,Jc,s),o.forEach(u=>{let h=oe(a,u.element,new Map);u.postStyleProps.forEach(p=>h.set(p,null))})):(s.push(uc()),o=[]),s.length)throw hc(s);a.forEach((u,h)=>{u.forEach((p,f)=>{u.set(f,this._driver.computeStyle(h,f,be))})});let l=o.map(u=>{let h=a.get(u.element);return this._buildPlayer(u,new Map,h)}),c=Ue(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw dc(t);return e}listen(t,e,i,s){let r=bs(e,"","","");return vs(this._getPlayer(t),i,r,s),()=>{}}command(t,e,i,s){if(i=="register"){this.register(t,s[0]);return}if(i=="create"){let o=s[0]||{};this.create(t,e,o);return}let r=this._getPlayer(t);switch(i){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t);break}}},co="ng-animate-queued",Qc=".ng-animate-queued",es="ng-animate-disabled",Yc=".ng-animate-disabled",Zc="ng-star-inserted",Xc=".ng-star-inserted",eu=[],To={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ge="__ng_removed",Yt=class{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),s=i?t.value:t;if(this.value=nu(s),i){let r=t,{value:o}=r,a=ur(r,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(s=>{i[s]==null&&(i[s]=e[s])})}}},Wt="void",ts=new Yt(Wt),ms=class{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ue(e,this._hostClassName)}listen(t,e,i,s){if(!this._triggers.has(e))throw fc(i,e);if(i==null||i.length==0)throw pc(e);if(!su(i))throw mc(i,e);let r=oe(this._elementListeners,t,[]),o={name:e,phase:i,callback:s};r.push(o);let a=oe(this._engine.statesByElement,t,new Map);return a.has(e)||(ue(t,Pi),ue(t,Pi+"-"+e),a.set(e,ts)),()=>{this._engine.afterFlush(()=>{let l=r.indexOf(o);l>=0&&r.splice(l,1),this._triggers.has(e)||a.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw gc(t);return e}trigger(t,e,i,s=!0){let r=this._getTrigger(e),o=new Zt(this.id,e,t),a=this._engine.statesByElement.get(t);a||(ue(t,Pi),ue(t,Pi+"-"+e),this._engine.statesByElement.set(t,a=new Map));let l=a.get(e),c=new Yt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(e,c),l||(l=ts),!(c.value===Wt)&&l.value===c.value){if(!au(l.params,c.params)){let _=[],b=r.matchStyles(l.value,l.params,_),x=r.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Xe(t,b),we(t,x)})}return}let p=oe(this._engine.playersByElement,t,[]);p.forEach(_=>{_.namespaceId==this.id&&_.triggerName==e&&_.queued&&_.destroy()});let f=r.matchTransition(l.value,c.value,t,c.params),g=!1;if(!f){if(!s)return;f=r.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:g}),g||(ue(t,co),o.onStart(()=>{vt(t,co)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);let b=this._engine.playersByElement.get(t);if(b){let x=b.indexOf(o);x>=0&&b.splice(x,1)}}),this.players.push(o),p.push(o),o}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,ji,!0);i.forEach(s=>{if(s[ge])return;let r=this._engine.fetchNamespacesByElement(s);r.size?r.forEach(o=>o.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,i,s){let r=this._engine.statesByElement.get(t),o=new Map;if(r){let a=[];if(r.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(t,c,Wt,s);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,o),i&&Ue(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let s=new Set;e.forEach(r=>{let o=r.name;if(s.has(o))return;s.add(o);let l=this._triggers.get(o).fallbackTransition,c=i.get(o)||ts,u=new Yt(Wt),h=new Zt(this.id,o,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:o,transition:l,fromState:c,toState:u,player:h,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(i.totalAnimations){let r=i.players.length?i.playersByQueriedElement.get(t):[];if(r&&r.length)s=!0;else{let o=t;for(;o=o.parentNode;)if(i.statesByElement.get(o)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)i.markElementAsRemoved(this.id,t,!1,e);else{let r=t[ge];(!r||r===To)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ue(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let s=i.player;if(s.destroyed)return;let r=i.element,o=this._elementListeners.get(r);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=bs(r,i.triggerName,i.fromState.value,i.toState.value);l._data=t,vs(i.player,a.phase,l,a.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(i)}),this._queue=[],e.sort((i,s)=>{let r=i.transition.ast.depCount,o=s.transition.ast.depCount;return r==0||o==0?r-o:this._engine.driver.containsElement(i.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},gs=class{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i,s){this.bodyNode=t,this.driver=e,this._normalizer=i,this.scheduler=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new ms(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,s=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(e);for(;a;){let l=s.get(a);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(t)}else i.push(t);return s.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let s=this._namespaceLookup[t];s&&s.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let s=this._namespaceList.indexOf(i);s>=0&&this._namespaceList.splice(s,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let s of i.values())if(s.namespaceId){let r=this._fetchNamespace(s.namespaceId);r&&e.add(r)}}return e}trigger(t,e,i,s){if(Ni(e)){let r=this._fetchNamespace(t);if(r)return r.trigger(e,i,s),!0}return!1}insertNode(t,e,i,s){if(!Ni(e))return;let r=e[ge];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;let o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){let o=this._fetchNamespace(t);o&&o.insertNode(e,i)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ue(t,es)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),vt(t,es))}removeNode(t,e,i){if(Ni(e)){this.scheduler?.notify();let s=t?this._fetchNamespace(t):null;s?s.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let r=this.namespacesByHostElement.get(e);r&&r.id!==t&&r.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,s,r){this.collectedLeaveElements.push(e),e[ge]={namespaceId:t,setForRemoval:s,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:r}}listen(t,e,i,s,r){return Ni(e)?this._fetchNamespace(t).listen(e,i,s,r):()=>{}}_buildInstruction(t,e,i,s,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,s,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,ji,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,ss,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ue(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[ge];if(e&&e.setForRemoval){if(t[ge]=To,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(es)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Yc,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,s)=>this._balanceNamespaceList(i,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let s=this.collectedEnterElements[i];ue(s,Zc)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let s=0;s<i.length;s++)i[s]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let s=this.collectedLeaveElements[i];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?Ue(e).onDone(()=>{i.forEach(s=>s())}):i.forEach(s=>s())}}reportError(t){throw _c(t)}_flushAnimations(t,e){let i=new Qt,s=[],r=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(w=>{u.add(w);let E=this.driver.query(w,Qc,!0);for(let C=0;C<E.length;C++)u.add(E[C])});let h=this.bodyNode,p=Array.from(this.statesByElement.keys()),f=fo(p,this.collectedEnterElements),g=new Map,_=0;f.forEach((w,E)=>{let C=vo+_++;g.set(E,C),w.forEach(O=>ue(O,C))});let b=[],x=new Set,R=new Set;for(let w=0;w<this.collectedLeaveElements.length;w++){let E=this.collectedLeaveElements[w],C=E[ge];C&&C.setForRemoval&&(b.push(E),x.add(E),C.hasAnimation?this.driver.query(E,Xc,!0).forEach(O=>x.add(O)):R.add(E))}let V=new Map,P=fo(p,Array.from(x));P.forEach((w,E)=>{let C=ns+_++;V.set(E,C),w.forEach(O=>ue(O,C))}),t.push(()=>{f.forEach((w,E)=>{let C=g.get(E);w.forEach(O=>vt(O,C))}),P.forEach((w,E)=>{let C=V.get(E);w.forEach(O=>vt(O,C))}),b.forEach(w=>{this.processLeaveNode(w)})});let W=[],G=[];for(let w=this._namespaceList.length-1;w>=0;w--)this._namespaceList[w].drainQueuedTransitions(e).forEach(C=>{let O=C.player,B=C.element;if(W.push(O),this.collectedEnterElements.length){let J=B[ge];if(J&&J.setForMove){if(J.previousTriggersValues&&J.previousTriggersValues.has(C.triggerName)){let Ke=J.previousTriggersValues.get(C.triggerName),le=this.statesByElement.get(C.element);if(le&&le.has(C.triggerName)){let Ti=le.get(C.triggerName);Ti.value=Ke,le.set(C.triggerName,Ti)}}O.destroy();return}}let ye=!h||!this.driver.containsElement(h,B),se=V.get(B),Ne=g.get(B),L=this._buildInstruction(C,i,Ne,se,ye);if(L.errors&&L.errors.length){G.push(L);return}if(ye){O.onStart(()=>Xe(B,L.fromStyles)),O.onDestroy(()=>we(B,L.toStyles)),s.push(O);return}if(C.isFallbackTransition){O.onStart(()=>Xe(B,L.fromStyles)),O.onDestroy(()=>we(B,L.toStyles)),s.push(O);return}let cr=[];L.timelines.forEach(J=>{J.stretchStartingKeyframe=!0,this.disabledNodes.has(J.element)||cr.push(J)}),L.timelines=cr,i.append(B,L.timelines);let bl={instruction:L,player:O,element:B};o.push(bl),L.queriedElements.forEach(J=>oe(a,J,[]).push(O)),L.preStyleProps.forEach((J,Ke)=>{if(J.size){let le=l.get(Ke);le||l.set(Ke,le=new Set),J.forEach((Ti,On)=>le.add(On))}}),L.postStyleProps.forEach((J,Ke)=>{let le=c.get(Ke);le||c.set(Ke,le=new Set),J.forEach((Ti,On)=>le.add(On))})});if(G.length){let w=[];G.forEach(E=>{w.push(yc(E.triggerName,E.errors))}),W.forEach(E=>E.destroy()),this.reportError(w)}let Y=new Map,ee=new Map;o.forEach(w=>{let E=w.element;i.has(E)&&(ee.set(E,E),this._beforeAnimationBuild(w.player.namespaceId,w.instruction,Y))}),s.forEach(w=>{let E=w.element;this._getPreviousPlayers(E,!1,w.namespaceId,w.triggerName,null).forEach(O=>{oe(Y,E,[]).push(O),O.destroy()})});let Ge=b.filter(w=>po(w,l,c)),ft=new Map;ho(ft,this.driver,R,c,be).forEach(w=>{po(w,l,c)&&Ge.push(w)});let ze=new Map;f.forEach((w,E)=>{ho(ze,this.driver,new Set(w),l,Oi)}),Ge.forEach(w=>{let E=ft.get(w),C=ze.get(w);ft.set(w,new Map([...E?.entries()??[],...C?.entries()??[]]))});let Mn=[],ar=[],lr={};o.forEach(w=>{let{element:E,player:C,instruction:O}=w;if(i.has(E)){if(u.has(E)){C.onDestroy(()=>we(E,O.toStyles)),C.disabled=!0,C.overrideTotalTime(O.totalTime),s.push(C);return}let B=lr;if(ee.size>1){let se=E,Ne=[];for(;se=se.parentNode;){let L=ee.get(se);if(L){B=L;break}Ne.push(se)}Ne.forEach(L=>ee.set(L,B))}let ye=this._buildAnimation(C.namespaceId,O,Y,r,ze,ft);if(C.setRealPlayer(ye),B===lr)Mn.push(C);else{let se=this.playersByElement.get(B);se&&se.length&&(C.parentPlayer=Ue(se)),s.push(C)}}else Xe(E,O.fromStyles),C.onDestroy(()=>we(E,O.toStyles)),ar.push(C),u.has(E)&&s.push(C)}),ar.forEach(w=>{let E=r.get(w.element);if(E&&E.length){let C=Ue(E);w.setRealPlayer(C)}}),s.forEach(w=>{w.parentPlayer?w.syncPlayerEvents(w.parentPlayer):w.destroy()});for(let w=0;w<b.length;w++){let E=b[w],C=E[ge];if(vt(E,ns),C&&C.hasAnimation)continue;let O=[];if(a.size){let ye=a.get(E);ye&&ye.length&&O.push(...ye);let se=this.driver.query(E,ss,!0);for(let Ne=0;Ne<se.length;Ne++){let L=a.get(se[Ne]);L&&L.length&&O.push(...L)}}let B=O.filter(ye=>!ye.destroyed);B.length?ru(this,E,B):this.processLeaveNode(E)}return b.length=0,Mn.forEach(w=>{this.players.push(w),w.onDone(()=>{w.destroy();let E=this.players.indexOf(w);this.players.splice(E,1)}),w.play()}),Mn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,s,r){let o=[];if(e){let a=this.playersByQueriedElement.get(t);a&&(o=a)}else{let a=this.playersByElement.get(t);if(a){let l=!r||r==Wt;a.forEach(c=>{c.queued||!l&&c.triggerName!=s||o.push(c)})}}return(i||s)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||s&&s!=a.triggerName))),o}_beforeAnimationBuild(t,e,i){let s=e.triggerName,r=e.element,o=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:s;for(let l of e.timelines){let c=l.element,u=c!==r,h=oe(i,c,[]);this._getPreviousPlayers(c,u,o,a,e.toState).forEach(f=>{let g=f.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),f.destroy(),h.push(f)})}Xe(r,e.fromStyles)}_buildAnimation(t,e,i,s,r,o){let a=e.triggerName,l=e.element,c=[],u=new Set,h=new Set,p=e.timelines.map(g=>{let _=g.element;u.add(_);let b=_[ge];if(b&&b.removedBeforeQueried)return new $e(g.duration,g.delay);let x=_!==l,R=ou((i.get(_)||eu).map(Y=>Y.getRealPlayer())).filter(Y=>{let ee=Y;return ee.element?ee.element===_:!1}),V=r.get(_),P=o.get(_),W=mo(this._normalizer,g.keyframes,V,P),G=this._buildPlayer(g,W,R);if(g.subTimeline&&s&&h.add(_),x){let Y=new Zt(t,a,_);Y.setRealPlayer(G),c.push(Y)}return G});c.forEach(g=>{oe(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>iu(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>ue(g,no));let f=Ue(p);return f.onDestroy(()=>{u.forEach(g=>vt(g,no)),we(l,e.toStyles)}),h.forEach(g=>{oe(s,g,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new $e(t.duration,t.delay)}},Zt=class{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new $e,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(s=>vs(t,i,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){oe(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function iu(n,t,e){let i=n.get(t);if(i){if(i.length){let s=i.indexOf(e);i.splice(s,1)}i.length==0&&n.delete(t)}return i}function nu(n){return n??null}function Ni(n){return n&&n.nodeType===1}function su(n){return n=="start"||n=="done"}function uo(n,t){let e=n.style.display;return n.style.display=t??"none",e}function ho(n,t,e,i,s){let r=[];e.forEach(l=>r.push(uo(l)));let o=[];i.forEach((l,c)=>{let u=new Map;l.forEach(h=>{let p=t.computeStyle(c,h,s);u.set(h,p),(!p||p.length==0)&&(c[ge]=tu,o.push(c))}),n.set(c,u)});let a=0;return e.forEach(l=>uo(l,r[a++])),o}function fo(n,t){let e=new Map;if(n.forEach(a=>e.set(a,[])),t.length==0)return e;let i=1,s=new Set(t),r=new Map;function o(a){if(!a)return i;let l=r.get(a);if(l)return l;let c=a.parentNode;return e.has(c)?l=c:s.has(c)?l=i:l=o(c),r.set(a,l),l}return t.forEach(a=>{let l=o(a);l!==i&&e.get(l).push(a)}),e}function ue(n,t){n.classList?.add(t)}function vt(n,t){n.classList?.remove(t)}function ru(n,t,e){Ue(e).onDone(()=>n.processLeaveNode(t))}function ou(n){let t=[];return Ao(n,t),t}function Ao(n,t){for(let e=0;e<n.length;e++){let i=n[e];i instanceof zt?Ao(i.players,t):t.push(i)}}function au(n,t){let e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let s=0;s<e.length;s++){let r=e[s];if(!t.hasOwnProperty(r)||n[r]!==t[r])return!1}return!0}function po(n,t,e){let i=e.get(n);if(!i)return!1;let s=t.get(n);return s?i.forEach(r=>s.add(r)):t.set(n,i),e.delete(n),!0}var bt=class{constructor(t,e,i,s){this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new gs(t.body,e,i,s),this._timelineEngine=new ps(t.body,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,s,r){let o=t+"-"+s,a=this._triggerCache[o];if(!a){let l=[],c=[],u=Eo(this._driver,r,l,c);if(l.length)throw ac(s,l);c.length&&void 0,a=Kc(s,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(e,s,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,s){this._transitionEngine.insertNode(t,e,i,s)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,s){if(i.charAt(0)=="@"){let[r,o]=to(i),a=s;this._timelineEngine.command(r,e,o,a)}else this._transitionEngine.trigger(t,e,i,s)}listen(t,e,i,s,r){if(i.charAt(0)=="@"){let[o,a]=to(i);return this._timelineEngine.listen(o,e,a,r)}return this._transitionEngine.listen(t,e,i,s,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function lu(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=is(t[0]),t.length>1&&(i=is(t[t.length-1]))):t instanceof Map&&(e=is(t)),e||i?new _s(n,e,i):null}var _s=class n{static{this.initialStylesByElement=new WeakMap}constructor(t,e,i){this._element=t,this._startStyles=e,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&we(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(we(this._element,this._initialStyles),this._endStyles&&(we(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Xe(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xe(this._element,this._endStyles),this._endStyles=null),we(this._element,this._initialStyles),this._state=3)}};function is(n){let t=null;return n.forEach((e,i)=>{cu(i)&&(t=t||new Map,t.set(i,e))}),t}function cu(n){return n==="display"||n==="position"}var Gi=class{constructor(t,e,i,s){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,s)=>{s!=="offset"&&t.set(s,this._finished?i:Cs(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},zi=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return go(t,e)}getParentElement(t){return ws(t)}query(t,e,i){return _o(t,e,i)}computeStyle(t,e,i){return Cs(t,e)}animate(t,e,i,s,r,o=[]){let a=s==0?"both":"forwards",l={duration:i,delay:s,fill:a};r&&(l.easing=r);let c=new Map,u=o.filter(f=>f instanceof Gi);xc(i,s)&&u.forEach(f=>{f.currentSnapshot.forEach((g,_)=>c.set(_,g))});let h=Ac(e).map(f=>new Map(f));h=Mc(t,h,c);let p=lu(t,h);return new Gi(t,h,l,p)}};var Vi="@",Do="@.disabled",Ki=class{constructor(t,e,i,s){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=s,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,s=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,s){this.delegate.setAttribute(t,e,i,s)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,s){this.delegate.setStyle(t,e,i,s)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==Vi&&e==Do?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},ys=class extends Ki{constructor(t,e,i,s,r){super(e,i,s,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==Vi?e.charAt(1)=="."&&e==Do?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if(e.charAt(0)==Vi){let s=uu(t),r=e.slice(1),o="";return r.charAt(0)!=Vi&&([r,o]=hu(r)),this.engine.listen(this.namespaceId,s,r,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(t,e,i)}};function uu(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function hu(n){let t=n.indexOf("."),e=n.substring(0,t),i=n.slice(t+1);return[e,i]}var Wi=class{constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,e.onRemovalComplete=(s,r)=>{let o=r?.parentNode(s);o&&r.removeChild(o,s)}}createRenderer(t,e){let i="",s=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,u=c.get(s);if(!u){let h=()=>c.delete(s);u=new Ki(i,s,this.engine,h),c.set(s,u)}return u}let r=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(r,o,t,c.name,c)};return e.data.animation.forEach(a),new ys(this,o,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(r=>{let[o,a]=r;o(a)}),this._animationCallbacksBuffer=[]})}),s.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var fu=(()=>{class n extends bt{constructor(e,i,s){super(e,i,s,Ae(br,{optional:!0}))}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(ve(Gt),ve(et),ve(tt))}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac})}}return n})();function pu(){return new $i}function mu(n,t,e){return new Wi(n,t,e)}var xo=[{provide:tt,useFactory:pu},{provide:bt,useClass:fu},{provide:Er,useFactory:mu,deps:[Vr,bt,Ut]}],ko=[{provide:et,useFactory:()=>new zi},{provide:Fn,useValue:"BrowserAnimations"},...xo],gu=[{provide:et,useClass:Es},{provide:Fn,useValue:"NoopAnimations"},...xo],Mo=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?gu:ko}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({providers:ko,imports:[Lr]})}}return n})();var Lo=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(M(Nn),M(gt))}}static{this.\u0275dir=ce({type:n})}}return n})(),_u=(()=>{class n extends Lo{static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Pn(n)))(s||n)}})()}static{this.\u0275dir=ce({type:n,features:[Le]})}}return n})(),$o=new je("");var yu={provide:$o,useExisting:Vt(()=>Be),multi:!0};function vu(){let n=qn()?qn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var bu=new je(""),Be=(()=>{class n extends Lo{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!vu())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(M(Nn),M(gt),M(bu,8))}}static{this.\u0275dir=ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&$("input",function(o){return s._handleInput(o.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(o){return s._compositionEnd(o.target.value)})},features:[Ht([yu]),Le]})}}return n})();function wu(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}var Ds=new je(""),Uo=new je("");function Eu(n){return wu(n.value)?{required:!0}:null}function Oo(n){return null}function Bo(n){return n!=null}function qo(n){return xr(n)?dr(n):n}function Ho(n){let t={};return n.forEach(e=>{t=e!=null?N(N({},t),e):t}),Object.keys(t).length===0?null:t}function Go(n,t){return t.map(e=>e(n))}function Su(n){return!n.validate}function zo(n){return n.map(t=>Su(t)?t:e=>t.validate(e))}function Cu(n){if(!n)return null;let t=n.filter(Bo);return t.length==0?null:function(e){return Ho(Go(e,t))}}function ks(n){return n!=null?Cu(zo(n)):null}function Tu(n){if(!n)return null;let t=n.filter(Bo);return t.length==0?null:function(e){let i=Go(e,t).map(qo);return pr(i).pipe(fr(Ho))}}function xs(n){return n!=null?Tu(zo(n)):null}function Io(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Au(n){return n._rawValidators}function Du(n){return n._rawAsyncValidators}function As(n){return n?Array.isArray(n)?n:[n]:[]}function Qi(n,t){return Array.isArray(n)?n.includes(t):n===t}function Po(n,t){let e=As(t);return As(n).forEach(s=>{Qi(e,s)||e.push(s)}),e}function Fo(n,t){return As(t).filter(e=>!Qi(n,e))}var Yi=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ks(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Et=class extends Yi{get formDirective(){return null}get path(){return null}},ii=class extends Yi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zi=class{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},ku={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qd=te(N({},ku),{"[class.ng-submitted]":"isSubmitted"}),St=(()=>{class n extends Zi{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(M(ii,2))}}static{this.\u0275dir=ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Vn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Le]})}}return n})(),Ko=(()=>{class n extends Zi{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(M(Et,10))}}static{this.\u0275dir=ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Vn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Le]})}}return n})();var Xt="VALID",Ji="INVALID",wt="PENDING",ei="DISABLED";function Wo(n){return(tn(n)?n.validators:n)||null}function xu(n){return Array.isArray(n)?ks(n):n||null}function Jo(n,t){return(tn(t)?t.asyncValidators:n)||null}function Mu(n){return Array.isArray(n)?xs(n):n||null}function tn(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function Ou(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new k(1e3,"");if(!i[e])throw new k(1001,"")}function Iu(n,t,e){n._forEachChild((i,s)=>{if(e[s]===void 0)throw new k(1002,"")})}var Xi=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Xt}get invalid(){return this.status===Ji}get pending(){return this.status==wt}get disabled(){return this.status===ei}get enabled(){return this.status!==ei}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Po(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Po(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Fo(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Fo(t,this._rawAsyncValidators))}hasValidator(t){return Qi(this._rawValidators,t)}hasAsyncValidator(t){return Qi(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wt,t.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ei,this.errors=null,this._forEachChild(i=>{i.disable(te(N({},t),{onlySelf:!0}))}),this._updateValue(),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(N({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Xt,this._forEachChild(i=>{i.enable(te(N({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(te(N({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xt||this.status===wt)&&this._runAsyncValidator(t.emitEvent)),t.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ei:Xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wt,this._hasOwnPendingAsyncValidator=!0;let e=qo(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,s)=>i&&i._find(s),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new $t,this.statusChanges=new $t}_calculateStatus(){return this._allControlsDisabled()?ei:this.errors?Ji:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wt)?wt:this._anyControlsHaveStatus(Ji)?Ji:Xt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tn(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=xu(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Mu(this._rawAsyncValidators)}},en=class extends Xi{constructor(t,e,i){super(Wo(e),Jo(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Iu(this,!0,t),Object.keys(t).forEach(i=>{Ou(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let s=this.controls[i];s&&s.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t?t[s]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,s)=>((i.enabled||this.disabled)&&(e[s]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Ms=new je("CallSetDisabledState",{providedIn:"root",factory:()=>Os}),Os="always";function Pu(n,t){return[...t.path,n]}function Qo(n,t,e=Os){Yo(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),Ru(n,t),Vu(n,t),Nu(n,t),Fu(n,t)}function Ro(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Fu(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function Yo(n,t){let e=Au(n);t.validator!==null?n.setValidators(Io(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=Du(n);t.asyncValidator!==null?n.setAsyncValidators(Io(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let s=()=>n.updateValueAndValidity();Ro(t._rawValidators,s),Ro(t._rawAsyncValidators,s)}function Ru(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&Zo(n,t)})}function Nu(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&Zo(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function Zo(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Vu(n,t){let e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function ju(n,t){n==null,Yo(n,t)}function Lu(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function $u(n){return Object.getPrototypeOf(n.constructor)===_u}function Uu(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Bu(n,t){if(!t)return null;Array.isArray(t);let e,i,s;return t.forEach(r=>{r.constructor===Be?e=r:$u(r)?i=r:s=r}),s||i||e||null}var qu={provide:Et,useExisting:Vt(()=>Is)},ti=Promise.resolve(),Is=(()=>{class n extends Et{constructor(e,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new $t,this.form=new en({},ks(e),xs(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ti.then(()=>{let i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Qo(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ti.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ti.then(()=>{let i=this._findContainer(e.path),s=new en({});ju(s,e),i.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ti.then(()=>{let i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ti.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Uu(this.form,this._directives),this.ngSubmit.emit(e),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static{this.\u0275fac=function(i){return new(i||n)(M(Ds,10),M(Uo,10),M(Ms,8))}}static{this.\u0275dir=ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,s){i&1&&$("submit",function(o){return s.onSubmit(o)})("reset",function(){return s.onReset()})},inputs:{options:[jt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ht([qu]),Le]})}}return n})();function No(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Vo(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Hu=class extends Xi{constructor(t=null,e,i){super(Wo(e),Jo(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tn(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Vo(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){No(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){No(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Vo(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Gu={provide:ii,useExisting:Vt(()=>it)},jo=Promise.resolve(),it=(()=>{class n extends ii{constructor(e,i,s,r,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Hu,this._registered=!1,this.name="",this.update=new $t,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=Bu(this,r)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Lu(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qo(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){jo.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let i=e.isDisabled.currentValue,s=i!==0&&Bn(i);jo.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Pu(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(M(Et,9),M(Ds,10),M(Uo,10),M($o,10),M(Mr,8),M(Ms,8))}}static{this.\u0275dir=ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[jt.None,"disabled","isDisabled"],model:[jt.None,"ngModel","model"],options:[jt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ht([Gu]),Le,In]})}}return n})(),Xo=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var zu=(()=>{class n{constructor(){this._validator=Oo}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Oo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=ce({type:n,features:[In]})}}return n})();var Ku={provide:Ds,useExisting:Vt(()=>Ps),multi:!0};var Ps=(()=>{class n extends zu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Bn,this.createValidator=e=>Eu}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(s){return(e||(e=Pn(n)))(s||n)}})()}static{this.\u0275dir=ce({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,s){i&2&&De("required",s._enabled?"":null)},inputs:{required:"required"},features:[Ht([Ku]),Le]})}}return n})();var Wu=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();var Ct=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Ms,useValue:e.callSetDisabledState??Os}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[Wu]})}}return n})();var ea=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)};var ni=class extends Error{constructor(t,e="FunctionsError",i){super(t),this.name=e,this.context=i}},nn=class extends ni{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},sn=class extends ni{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},rn=class extends ni{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Rs=function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n}(Rs||{});var Ju=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},si=class{constructor(t,{headers:e={},customFetch:i,region:s=Rs.Any}={}){this.url=t,this.headers=e,this.region=s,this.fetch=ea(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var i;return Ju(this,void 0,void 0,function*(){try{let{headers:s,method:r,body:o}=e,a={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));let u=yield this.fetch(`${this.url}/${t}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(g=>{throw new nn(g)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new sn(u);if(!u.ok)throw new rn(u);let p=((i=u.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield u.json():p==="application/octet-stream"?f=yield u.blob():p==="text/event-stream"?f=u:p==="multipart/form-data"?f=yield u.formData():f=yield u.text(),{data:f,error:null}}catch(s){return{data:null,error:s}}})}};var fa=wl(da(),1),{PostgrestClient:pa,PostgrestQueryBuilder:_f,PostgrestFilterBuilder:yf,PostgrestTransformBuilder:vf,PostgrestBuilder:bf,PostgrestError:ah}=fa.default;var ma="2.11.2";var ga={"X-Client-Info":`realtime-js/${ma}`},_a="1.0.0",cn=1e4,ya=1e3,At=function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n}(At||{}),ae=function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n}(ae||{}),he=function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n}(he||{}),Ks=function(n){return n.websocket="websocket",n}(Ks||{}),nt=function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n}(nt||{});var un=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,e,i)}_decodeBroadcast(t,e,i){let s=e.getUint8(1),r=e.getUint8(2),o=this.HEADER_LENGTH+2,a=i.decode(t.slice(o,o+s));o=o+s;let l=i.decode(t.slice(o,o+r));o=o+r;let c=JSON.parse(i.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}};var Dt=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var j=function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n}(j||{}),Js=(n,t,e={})=>{var i;let s=(i=e.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((r,o)=>(r[o]=lh(o,n,t,s),r),{})},lh=(n,t,e,i)=>{let s=t.find(a=>a.name===n),r=s?.type,o=e[n];return r&&!i.includes(r)?va(r,o):Ws(o)},va=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return dh(t,e)}switch(n){case j.bool:return ch(t);case j.float4:case j.float8:case j.int2:case j.int4:case j.int8:case j.numeric:case j.oid:return uh(t);case j.json:case j.jsonb:return hh(t);case j.timestamp:return fh(t);case j.abstime:case j.date:case j.daterange:case j.int4range:case j.int8range:case j.money:case j.reltime:case j.text:case j.time:case j.timestamptz:case j.timetz:case j.tsrange:case j.tstzrange:return Ws(t);default:return Ws(t)}},Ws=n=>n,ch=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},uh=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},hh=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},dh=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,i=n[e];if(n[0]==="{"&&i==="}"){let r,o=n.slice(1,e);try{r=JSON.parse("["+o+"]")}catch{r=o?o.split(","):[]}return r.map(a=>va(t,a))}return n},fh=n=>typeof n=="string"?n.replace(" ","T"):n,hn=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var kt=class{constructor(t,e,i={},s=cn){this.channel=t,this.event=e,this.payload=i,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var i;return this._hasReceived(t)&&e((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var hi=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let i=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},s=>{let{onJoin:r,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,s,r,o),this.pendingDiffs.forEach(l=>{this.state=n.syncDiff(this.state,l,r,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},s=>{let{onJoin:r,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=n.syncDiff(this.state,s,r,o),a())}),this.onJoin((s,r,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:r,newPresences:o})}),this.onLeave((s,r,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:r,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,i,s){let r=this.cloneDeep(t),o=this.transformState(e),a={},l={};return this.map(r,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{let h=r[c];if(h){let p=u.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),g=u.filter(b=>f.indexOf(b.presence_ref)<0),_=h.filter(b=>p.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),_.length>0&&(l[c]=_)}else a[c]=u}),this.syncDiff(r,{joins:a,leaves:l},i,s)}static syncDiff(t,e,i,s){let{joins:r,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return i||(i=()=>{}),s||(s=()=>{}),this.map(r,(a,l)=>{var c;let u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){let h=t[a].map(f=>f.presence_ref),p=u.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}i(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;let u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,s(a,c,l),c.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(i=>e(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,i)=>{let s=t[i];return"metas"in s?e[i]=s.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):e[i]=s,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Pe=function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n}(Pe||{});var di=class n{constructor(t,e={config:{}},i){this.topic=t,this.params=e,this.socket=i,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new kt(this,he.join,this.params,this.timeout),this.rejoinTimer=new Dt(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(he.reply,{},(s,r)=>{this._trigger(this._replyEventName(r),s)}),this.presence=new hi(this),this.broadcastEndpointURL=hn(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var i,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:r,presence:o,private:a}}=this.params;this._onError(u=>t?.(Pe.CHANNEL_ERROR,u)),this._onClose(()=>t?.(Pe.CLOSED));let l={},c={broadcast:r,presence:o,postgres_changes:(s=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(u=>u.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",h=>d(this,[h],function*({postgres_changes:u}){var p;if(this.socket.setAuth(),u===void 0){t?.(Pe.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,g=(p=f?.length)!==null&&p!==void 0?p:0,_=[];for(let b=0;b<g;b++){let x=f[b],{filter:{event:R,schema:V,table:P,filter:W}}=x,G=u&&u[b];if(G&&G.event===R&&G.schema===V&&G.table===P&&G.filter===W)_.push(Object.assign(Object.assign({},x),{id:G.id}));else{this.unsubscribe(),t?.(Pe.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(Pe.SUBSCRIBED);return}})).receive("error",u=>{t?.(Pe.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pe.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(i){return d(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return d(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,i){return this._on(t,e,i)}send(i){return d(this,arguments,function*(t,e={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let u=yield this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=e.timeout)!==null&&s!==void 0?s:this.timeout);return yield(r=u.body)===null||r===void 0?void 0:r.cancel(),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;let u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ae.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(he.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{let s=new kt(this,he.leave,{},t);s.receive("ok",()=>{e(),i("ok")}).receive("timeout",()=>{e(),i("timed out")}).receive("error",()=>{i("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_fetchWithTimeout(t,e,i){return d(this,null,function*(){let s=new AbortController,r=setTimeout(()=>s.abort(),i),o=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:s.signal}));return clearTimeout(r),o})}_push(t,e,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new kt(this,t,e,i);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,e,i){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,i){var s,r;let o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=he;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let p=this._onMessage(o,e,i);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var g,_,b;return((g=f.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(_=f.filter)===null||_===void 0?void 0:_.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,i)):(r=this.bindings[o])===null||r===void 0||r.filter(f=>{var g,_,b,x,R,V;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){let P=f.id,W=(g=f.filter)===null||g===void 0?void 0:g.event;return P&&((_=e.ids)===null||_===void 0?void 0:_.includes(P))&&(W==="*"||W?.toLocaleLowerCase()===((b=e.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{let P=(R=(x=f?.filter)===null||x===void 0?void 0:x.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return P==="*"||P===((V=e?.event)===null||V===void 0?void 0:V.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){let g=p.data,{schema:_,table:b,commit_timestamp:x,type:R,errors:V}=g;p=Object.assign(Object.assign({},{schema:_,table:b,commit_timestamp:x,eventType:R,new:{},old:{},errors:V}),this._getPayloadRecords(g))}f.callback(p,i)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,i){let s=t.toLocaleLowerCase(),r={type:s,filter:e,callback:i};return this.bindings[s]?this.bindings[s].push(r):this.bindings[s]=[r],this}_off(t,e){let i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(s=>{var r;return!(((r=s.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===i&&n.isEqual(s.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let i in t)if(t[i]!==e[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(he.close,{},t)}_onError(t){this._on(he.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Js(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Js(t.columns,t.old_record)),e}};var mh=()=>{},gh=typeof WebSocket<"u",_h=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,fi=class{constructor(t,e){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=ga,this.params={},this.timeout=cn,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=mh,this.conn=null,this.sendBuffer=[],this.serializer=new un,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let o;return r?o=r:typeof fetch>"u"?o=(...a)=>import("./chunk-MXHTO7MR.js").then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ks.websocket}`,this.httpEndpoint=hn(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let s=(i=e?.params)===null||i===void 0?void 0:i.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=e?.encode?e.encode:(r,o)=>o(JSON.stringify(r)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Dt(()=>d(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(gh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Qs(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-B6SUMW3L.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_a}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return d(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return d(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t})}log(t,e,i){this.logger(t,e,i)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return nt.Connecting;case At.open:return nt.Open;case At.closing:return nt.Closing;default:return nt.Closed}}isConnected(){return this.connectionState()===nt.Open}channel(t,e={config:{}}){let i=new di(`realtime:${t}`,e,this);return this.channels.push(i),i}push(t){let{topic:e,event:i,payload:s,ref:r}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${e} ${i} (${r})`,s),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t=null){return d(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let i=null;try{i=JSON.parse(atob(e.split(".")[1]))}catch{}if(i&&i.exp&&!(Math.floor(Date.now()/1e3)-i.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${i.exp}`);this.accessTokenValue=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(he.access_token,{access_token:e})})}})}sendHeartbeat(){return d(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ya,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:i,event:s,payload:r,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${i} ${s} ${o&&"("+o+")"||""}`,r),this.channels.filter(a=>a._isMember(i)).forEach(a=>a._trigger(s,r,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return d(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(he.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let i=t.match(/\?/)?"&":"?",s=new URLSearchParams(e);return`${t}${i}${s}`}_workerObjectUrl(t){let e;if(t)e=t;else{let i=new Blob([_h],{type:"application/javascript"});e=URL.createObjectURL(i)}return e}};var Qs=class{constructor(t,e,i){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=At.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=i.close}};var xt=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function U(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var dn=class extends xt{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},st=class extends xt{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var yh=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},pn=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},ba=()=>yh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-MXHTO7MR.js")).Response:Response}),fn=n=>{if(Array.isArray(n))return n.map(e=>fn(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,i])=>{let s=e.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[s]=fn(i)}),t};var rt=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},Ys=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),vh=(n,t,e)=>rt(void 0,void 0,void 0,function*(){let i=yield ba();n instanceof i&&!e?.noResolveJson?n.json().then(s=>{t(new dn(Ys(s),n.status||500))}).catch(s=>{t(new st(Ys(s),s))}):t(new st(Ys(n),n))}),bh=(n,t,e,i)=>{let s={method:n,headers:t?.headers||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i&&(s.body=JSON.stringify(i)),Object.assign(Object.assign({},s),e))};function pi(n,t,e,i,s,r){return rt(this,void 0,void 0,function*(){return new Promise((o,a)=>{n(e,bh(t,i,s,r)).then(l=>{if(!l.ok)throw l;return i?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>vh(l,a,i))})})}function Mt(n,t,e,i){return rt(this,void 0,void 0,function*(){return pi(n,"GET",t,e,i)})}function Ee(n,t,e,i,s){return rt(this,void 0,void 0,function*(){return pi(n,"POST",t,i,s,e)})}function wa(n,t,e,i,s){return rt(this,void 0,void 0,function*(){return pi(n,"PUT",t,i,s,e)})}function Ea(n,t,e,i){return rt(this,void 0,void 0,function*(){return pi(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),i)})}function mn(n,t,e,i,s){return rt(this,void 0,void 0,function*(){return pi(n,"DELETE",t,i,s,e)})}var ne=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},wh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sa={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},gn=class{constructor(t,e={},i,s){this.url=t,this.headers=e,this.bucketId=i,this.fetch=pn(s)}uploadOrUpdate(t,e,i,s){return ne(this,void 0,void 0,function*(){try{let r,o=Object.assign(Object.assign({},Sa),s),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)}),l=o.metadata;typeof Blob<"u"&&i instanceof Blob?(r=new FormData,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l)),r.append("",i)):typeof FormData<"u"&&i instanceof FormData?(r=i,r.append("cacheControl",o.cacheControl),l&&r.append("metadata",this.encodeMetadata(l))):(r=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s?.headers&&(a=Object.assign(Object.assign({},a),s.headers));let c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:r,headers:a},o?.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:c,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(r){if(U(r))return{data:null,error:r};throw r}})}upload(t,e,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,i)})}uploadToSignedUrl(t,e,i,s){return ne(this,void 0,void 0,function*(){let r=this._removeEmptyFolders(t),o=this._getFinalPath(r),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l,c=Object.assign({upsert:Sa.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:r,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(U(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return ne(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=Object.assign({},this.headers);e?.upsert&&(s["x-upsert"]="true");let r=yield Ee(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:s}),o=new URL(this.url+r.url),a=o.searchParams.get("token");if(!a)throw new xt("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}update(t,e,i){return ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,i)})}move(t,e,i){return ne(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}})}copy(t,e,i){return ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Ee(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}})}createSignedUrl(t,e,i){return ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),r=yield Ee(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:e},i?.transform?{transform:i.transform}:{}),{headers:this.headers}),o=i?.download?`&download=${i.download===!0?"":i.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${o}`)},{data:r,error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}})}createSignedUrls(t,e,i){return ne(this,void 0,void 0,function*(){try{let s=yield Ee(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),r=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${r}`):null})),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}})}download(t,e){return ne(this,void 0,void 0,function*(){let s=typeof e?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(e?.transform||{}),o=r?`?${r}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Mt(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}info(t){return ne(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let i=yield Mt(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:fn(i),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}exists(t){return ne(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Ea(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(U(i)&&i instanceof st){let s=i.originalError;if([400,404].includes(s?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,e){let i=this._getFinalPath(t),s=[],r=e?.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&s.push(r);let a=typeof e?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(e?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(t){return ne(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}list(t,e,i){return ne(this,void 0,void 0,function*(){try{let s=Object.assign(Object.assign(Object.assign({},wh),e),{prefix:t||""});return{data:yield Ee(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},i),error:null}}catch(s){if(U(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var Ca="2.7.1";var Ta={"X-Client-Info":`storage-js/${Ca}`};var Ot=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},_n=class{constructor(t,e={},i){this.url=t,this.headers=Object.assign(Object.assign({},Ta),e),this.fetch=pn(i)}listBuckets(){return Ot(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}getBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Mt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}updateBucket(t,e){return Ot(this,void 0,void 0,function*(){try{return{data:yield wa(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}emptyBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield Ee(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ot(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}};var mi=class extends _n{constructor(t,e={},i){super(t,e,i)}from(t){return new gn(this.url,this.headers,t,this.fetch)}};var Aa="2.49.4";var gi="";typeof Deno<"u"?gi="deno":typeof document<"u"?gi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gi="react-native":gi="node";var Eh={"X-Client-Info":`supabase-js-${gi}/${Aa}`},Da={headers:Eh},ka={schema:"public"},xa={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ma={};Kr();var Sh=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},Ch=n=>{let t;return n?t=n:typeof fetch>"u"?t=Gr:t=fetch,(...e)=>t(...e)},Th=()=>typeof Headers>"u"?zr:Headers,Oa=(n,t,e)=>{let i=Ch(e),s=Th();return(r,o)=>Sh(void 0,void 0,void 0,function*(){var a;let l=(a=yield t())!==null&&a!==void 0?a:n,c=new s(o?.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(r,Object.assign(Object.assign({},o),{headers:c}))})};var Ah=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})};function Ia(n){return n.replace(/\/$/,"")}function Pa(n,t){let{db:e,auth:i,realtime:s,global:r}=n,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),r),accessToken:()=>Ah(this,void 0,void 0,function*(){return""})};return n.accessToken?u.accessToken=n.accessToken:delete u.accessToken,u}var yn="2.69.1";var ot=30*1e3,vn=3,bn=vn*ot,Fa="http://localhost:9999",Ra="supabase.auth.token";var Na={"X-Client-Info":`gotrue-js/${yn}`};var _i="X-Supabase-Api-Version",Zs={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Va=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ja=6e5;var yi=class extends Error{constructor(t,e,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=i}};function T(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var wn=class extends yi{constructor(t,e,i){super(t,e,i),this.name="AuthApiError",this.status=e,this.code=i}};function La(n){return T(n)&&n.name==="AuthApiError"}var It=class extends yi{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},Se=class extends yi{constructor(t,e,i,s){super(t,i,s),this.name=e,this.status=i}},de=class extends Se{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function $a(n){return T(n)&&n.name==="AuthSessionMissingError"}var Pt=class extends Se{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},at=class extends Se{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},lt=class extends Se{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ua(n){return T(n)&&n.name==="AuthImplicitGrantRedirectError"}var vi=class extends Se{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Ft=class extends Se{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function En(n){return T(n)&&n.name==="AuthRetryableFetchError"}var bi=class extends Se{constructor(t,e,i){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=i}};var Fe=class extends Se{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qa=` 	
\r=`.split(""),Dh=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<qa.length;t+=1)n[qa[t].charCodeAt(0)]=-2;for(let t=0;t<Ba.length;t+=1)n[Ba[t].charCodeAt(0)]=t;return n})();function Ha(n,t,e){let i=Dh[n];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Xs(n){let t=[],e=o=>{t.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},r=o=>{Mh(o,i,e)};for(let o=0;o<n.length;o+=1)Ha(n.charCodeAt(o),s,r);return t.join("")}function kh(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function xh(n,t){for(let e=0;e<n.length;e+=1){let i=n.charCodeAt(e);if(i>55295&&i<=56319){let s=(i-55296)*1024&65535;i=(n.charCodeAt(e+1)-56320&65535|s)+65536,e+=1}kh(i,t)}}function Mh(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let i=1;i<6;i+=1)if(!(n>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Ga(n){let t=[],e={queue:0,queuedBits:0},i=s=>{t.push(s)};for(let s=0;s<n.length;s+=1)Ha(n.charCodeAt(s),e,i);return new Uint8Array(t)}function za(n){let t=[];return xh(n,e=>t.push(e)),new Uint8Array(t)}function Ka(n){return Math.round(Date.now()/1e3)+n}function Wa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var _e=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},qe=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function Ja(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((s,r)=>{t[r]=s})}catch{}return e.searchParams.forEach((i,s)=>{t[s]=i}),t}var Sn=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>import("./chunk-MXHTO7MR.js").then(({default:i})=>i(...e)):t=fetch,(...e)=>t(...e)},Qa=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",er=(n,t,e)=>d(void 0,null,function*(){yield n.setItem(t,JSON.stringify(e))}),Ei=(n,t)=>d(void 0,null,function*(){let e=yield n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),Si=(n,t)=>d(void 0,null,function*(){yield n.removeItem(t)}),wi=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};wi.promiseConstructor=Promise;function Cn(n){let t=n.split(".");if(t.length!==3)throw new Fe("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!Va.test(t[i]))throw new Fe("JWT not in base64url format");return{header:JSON.parse(Xs(t[0])),payload:JSON.parse(Xs(t[1])),signature:Ga(t[2]),raw:{header:t[0],payload:t[1]}}}function Ya(n){return d(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),n)})})}function Za(n,t){return new Promise((i,s)=>{d(this,null,function*(){for(let r=0;r<1/0;r++)try{let o=yield n(r);if(!t(r,null,o)){i(o);return}}catch(o){if(!t(r,o)){s(o);return}}})})}function Oh(n){return("0"+n.toString(16)).substr(-2)}function Ih(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=e.length,s="";for(let r=0;r<56;r++)s+=e.charAt(Math.floor(Math.random()*i));return s}return crypto.getRandomValues(t),Array.from(t,Oh).join("")}function Ph(n){return d(this,null,function*(){let e=new TextEncoder().encode(n),i=yield crypto.subtle.digest("SHA-256",e),s=new Uint8Array(i);return Array.from(s).map(r=>String.fromCharCode(r)).join("")})}function Fh(n){return d(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=yield Ph(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ut(n,t,e=!1){return d(this,null,function*(){let i=Ih(),s=i;e&&(s+="/PASSWORD_RECOVERY"),yield er(n,`${t}-code-verifier`,s);let r=yield Fh(i);return[r,i===r?"plain":"s256"]})}var Rh=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xa(n){let t=n.headers.get(_i);if(!t||!t.match(Rh))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function el(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function tl(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Nh=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e},ht=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Vh=[502,503,504];function il(n){return d(this,null,function*(){var t;if(!Qa(n))throw new Ft(ht(n),0);if(Vh.includes(n.status))throw new Ft(ht(n),n.status);let e;try{e=yield n.json()}catch(r){throw new It(ht(r),r)}let i,s=Xa(n);if(s&&s.getTime()>=Zs["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?i=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(i=e.error_code),i){if(i==="weak_password")throw new bi(ht(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new de}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((r,o)=>r&&typeof o=="string",!0))throw new bi(ht(e),n.status,e.weak_password.reasons);throw new wn(ht(e),n.status||500,i)})}var jh=(n,t,e,i)=>{let s={method:n,headers:t?.headers||{}};return n==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(i),Object.assign(Object.assign({},s),e))};function D(n,t,e,i){return d(this,null,function*(){var s;let r=Object.assign({},i?.headers);r[_i]||(r[_i]=Zs["2024-01-01"].name),i?.jwt&&(r.Authorization=`Bearer ${i.jwt}`);let o=(s=i?.query)!==null&&s!==void 0?s:{};i?.redirectTo&&(o.redirect_to=i.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield Lh(n,t,e+a,{headers:r,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(l):{data:Object.assign({},l),error:null}})}function Lh(n,t,e,i,s,r){return d(this,null,function*(){let o=jh(t,i,s,r),a;try{a=yield n(e,Object.assign({},o))}catch(l){throw console.error(l),new Ft(ht(l),0)}if(a.ok||(yield il(a)),i?.noResolveJson)return a;try{return yield a.json()}catch(l){yield il(l)}})}function Re(n){var t;let e=null;$h(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=Ka(n.expires_in)));let i=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:i},error:null}}function tr(n){let t=Re(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,i)=>e&&typeof i=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Ce(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function nl(n){return{data:n,error:null}}function sl(n){let{action_link:t,email_otp:e,hashed_token:i,redirect_to:s,verification_type:r}=n,o=Nh(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:i,redirect_to:s,verification_type:r},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function rl(n){return n}function $h(n){return n.access_token&&n.refresh_token&&n.expires_in}var Uh=function(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(e[i[s]]=n[i[s]]);return e},Rt=class{constructor({url:t="",headers:e={},fetch:i}){this.url=t,this.headers=e,this.fetch=Sn(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,e="global"){return d(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(T(i))return{data:null,error:i};throw i}})}inviteUserByEmail(i){return d(this,arguments,function*(t,e={}){try{return yield D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Ce})}catch(s){if(T(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return d(this,null,function*(){try{let{options:e}=t,i=Uh(t,["options"]),s=Object.assign(Object.assign({},i),e);return"newEmail"in i&&(s.new_email=i?.newEmail,delete s.newEmail),yield D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:sl,redirectTo:e?.redirectTo})}catch(e){if(T(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return d(this,null,function*(){try{return yield D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ce})}catch(e){if(T(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return d(this,null,function*(){var e,i,s,r,o,a,l;try{let c={nextPage:null,lastPage:0,total:0},u=yield D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&i!==void 0?i:"",per_page:(r=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:""},xform:rl});if(u.error)throw u.error;let h=yield u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(g=>{let _=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=_}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(T(c))return{data:{users:[]},error:c};throw c}})}getUserById(t){return d(this,null,function*(){try{return yield D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ce})}catch(e){if(T(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return d(this,null,function*(){try{return yield D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Ce})}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}deleteUser(t,e=!1){return d(this,null,function*(){try{return yield D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Ce})}catch(i){if(T(i))return{data:{user:null},error:i};throw i}})}_listFactors(t){return d(this,null,function*(){try{let{data:e,error:i}=yield D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:e,error:i}}catch(e){if(T(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return d(this,null,function*(){try{return{data:yield D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(T(e))return{data:null,error:e};throw e}})}};var ol={getItem:n=>qe()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{qe()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{qe()&&globalThis.localStorage.removeItem(n)}};function ir(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function al(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var dt={debug:!!(globalThis&&qe()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ci=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Tn=class extends Ci{};function nr(n,t,e){return d(this,null,function*(){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),dt.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},s=>d(this,null,function*(){if(s){dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,s.name);try{return yield e()}finally{dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,s.name)}}else{if(t===0)throw dt.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Tn(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(dt.debug)try{let r=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}al();var Bh={url:Fa,storageKey:Ra,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Na,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function ll(n,t,e){return d(this,null,function*(){return yield e()})}var sr=(()=>{class n{constructor(e){var i,s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=n.nextInstanceID,n.nextInstanceID+=1,this.instanceID>0&&_e()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let r=Object.assign(Object.assign({},Bh),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Rt({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=Sn(r.fetch),this.lock=r.lock||ll,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:_e()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=nr:this.lock=ll,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:qe()?this.storage=ol:(this.memoryStorage={},this.storage=ir(this.memoryStorage)):(this.memoryStorage={},this.storage=ir(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",o=>d(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yn}) ${new Date().toISOString()}`,...e),this}initialize(){return d(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=d(this,null,function*(){return yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return d(this,null,function*(){var e;try{let i=Ja(window.location.href),s="none";if(this._isImplicitGrantCallback(i)?s="implicit":(yield this._isPKCECallback(i))&&(s="pkce"),_e()&&this.detectSessionInUrl&&s!=="none"){let{data:r,error:o}=yield this._getSessionFromURL(i,s);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ua(o)){let c=(e=o.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}let{session:a,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),yield this._saveSession(a),setTimeout(()=>d(this,null,function*(){l==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(i){return T(i)?{error:i}:{error:new It("Unexpected error during initialization",i)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return d(this,null,function*(){var i,s,r;try{let o=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(i=e?.options)===null||i===void 0?void 0:i.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=e?.options)===null||r===void 0?void 0:r.captchaToken}},xform:Re}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(T(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(e){return d(this,null,function*(){var i,s,r;try{let o;if("email"in e){let{email:h,password:p,options:f}=e,g=null,_=null;this.flowType==="pkce"&&([g,_]=yield ut(this.storage,this.storageKey)),o=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:g,code_challenge_method:_},xform:Re})}else if("phone"in e){let{phone:h,password:p,options:f}=e;o=yield D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(s=f?.data)!==null&&s!==void 0?s:{},channel:(r=f?.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Re})}else throw new at("You must provide either an email or phone number and a password");let{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};let c=a.session,u=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(T(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(e){return d(this,null,function*(){try{let i;if("email"in e){let{email:o,password:a,options:l}=e;i=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tr})}else if("phone"in e){let{phone:o,password:a,options:l}=e;i=yield D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:tr})}else throw new at("You must provide either an email or phone number and a password");let{data:s,error:r}=i;return r?{data:{user:null,session:null},error:r}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Pt}:(s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOAuth(e){return d(this,null,function*(){var i,s,r,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return d(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>d(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return d(this,null,function*(){let i=yield Ei(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(i??"").split("/");try{let{data:o,error:a}=yield D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:Re});if(yield Si(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Pt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:r??null}),error:a})}catch(o){if(T(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(e){return d(this,null,function*(){try{let{options:i,provider:s,token:r,access_token:o,nonce:a}=e,l=yield D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:Re}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pt}:(c.session&&(yield this._saveSession(c.session),yield this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithOtp(e){return d(this,null,function*(){var i,s,r,o,a;try{if("email"in e){let{email:l,options:c}=e,u=null,h=null;this.flowType==="pkce"&&([u,h]=yield ut(this.storage,this.storageKey));let{error:p}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:l,options:c}=e,{data:u,error:h}=yield D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(o=c?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(a=c?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:h}}throw new at("You must provide either an email or phone number.")}catch(l){if(T(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(e){return d(this,null,function*(){var i,s;try{let r,o;"options"in e&&(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo,o=(s=e.options)===null||s===void 0?void 0:s.captchaToken);let{data:a,error:l}=yield D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:r,xform:Re});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");let c=a.session,u=a.user;return c?.access_token&&(yield this._saveSession(c),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(T(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithSSO(e){return d(this,null,function*(){var i,s,r;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=yield ut(this.storage,this.storageKey)),yield D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=e?.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:nl})}catch(o){if(T(o))return{data:null,error:o};throw o}})}reauthenticate(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return d(this,null,function*(){try{return yield this._useSession(e=>d(this,null,function*(){let{data:{session:i},error:s}=e;if(s)throw s;if(!i)throw new de;let{error:r}=yield D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:r}}))}catch(e){if(T(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return d(this,null,function*(){try{let i=`${this.url}/resend`;if("email"in e){let{email:s,type:r,options:o}=e,{error:a}=yield D(this.fetch,"POST",i,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:s,type:r,options:o}=e,{data:a,error:l}=yield D(this.fetch,"POST",i,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:l}}throw new at("You must provide either an email or phone number and a type")}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}getSession(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return this._useSession(i=>d(this,null,function*(){return i}))}))})}_acquireLock(e,i){return d(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=d(this,null,function*(){return yield s,yield i()});return this.pendingInLock.push(d(this,null,function*(){try{yield r}catch{}})),r}return yield this.lock(`lock:${this.storageKey}`,e,()=>d(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let s=i();for(this.pendingInLock.push(d(this,null,function*(){try{yield s}catch{}})),yield s;this.pendingInLock.length;){let r=[...this.pendingInLock];yield Promise.all(r),this.pendingInLock.splice(0,r.length)}return yield s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return d(this,null,function*(){this._debug("#_useSession","begin");try{let i=yield this.__loadSession();return yield e(i)}finally{this._debug("#_useSession","end")}})}__loadSession(){return d(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,i=yield Ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let s=e.expires_at?e.expires_at*1e3-Date.now()<bn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,h)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:e},error:null}}let{session:r,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return d(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return d(this,null,function*(){try{return e?yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ce}):yield this._useSession(i=>d(this,null,function*(){var s,r,o;let{data:a,error:l}=i;if(l)throw l;return!(!((s=a.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new de}:yield D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0,xform:Ce})}))}catch(i){if(T(i))return $a(i)&&(yield this._removeSession(),yield Si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}})}updateUser(s){return d(this,arguments,function*(e,i={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._updateUser(e,i)}))})}_updateUser(s){return d(this,arguments,function*(e,i={}){try{return yield this._useSession(r=>d(this,null,function*(){let{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new de;let l=o.session,c=null,u=null;this.flowType==="pkce"&&e.email!=null&&([c,u]=yield ut(this.storage,this.storageKey));let{data:h,error:p}=yield D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:u}),jwt:l.access_token,xform:Ce});if(p)throw p;return l.user=h.user,yield this._saveSession(l),yield this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}}))}catch(r){if(T(r))return{data:{user:null},error:r};throw r}})}setSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return d(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new de;let i=Date.now()/1e3,s=i,r=!0,o=null,{payload:a}=Cn(e.access_token);if(a.exp&&(s=a.exp,r=s<=i),r){let{session:l,error:c}=yield this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{let{data:l,error:c}=yield this._getUser(e.access_token);if(c)throw c;o={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:s-i,expires_at:s},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(i){if(T(i))return{data:{session:null,user:null},error:i};throw i}})}refreshSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s;if(!e){let{data:a,error:l}=i;if(l)throw l;e=(s=a.session)!==null&&s!==void 0?s:void 0}if(!e?.refresh_token)throw new de;let{session:r,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}))}catch(i){if(T(i))return{data:{user:null,session:null},error:i};throw i}})}_getSessionFromURL(e,i){return d(this,null,function*(){try{if(!_e())throw new lt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new vi("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lt("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vi("No code detected.");let{data:V,error:P}=yield this._exchangeCodeForSession(e.code);if(P)throw P;let W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:V.session,redirectType:null},error:null}}let{provider_token:s,provider_refresh_token:r,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=e;if(!o||!l||!a||!u)throw new lt("No session defined in URL");let h=Math.round(Date.now()/1e3),p=parseInt(l),f=h+p;c&&(f=parseInt(c));let g=f-h;g*1e3<=ot&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${p}s`);let _=f-p;h-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,h):h-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,h);let{data:b,error:x}=yield this._getUser(o);if(x)throw x;let R={provider_token:s,provider_refresh_token:r,access_token:o,expires_in:p,expires_at:f,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(s){if(T(s))return{data:{session:null,redirectType:null},error:s};throw s}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return d(this,null,function*(){let i=yield Ei(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)})}signOut(){return d(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return d(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(i=>d(this,null,function*(){var s;let{data:r,error:o}=i;if(o)return{error:o};let a=(s=r.session)===null||s===void 0?void 0:s.access_token;if(a){let{error:l}=yield this.admin.signOut(a,e);if(l&&!(La(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(yield this._removeSession(),yield Si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let i=Wa(),s={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,s),d(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){this._emitInitialSession(i)}))}),{data:{subscription:s}}}_emitInitialSession(e){return d(this,null,function*(){return yield this._useSession(i=>d(this,null,function*(){var s,r;try{let{data:{session:o},error:a}=i;if(a)throw a;yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(s){return d(this,arguments,function*(e,i={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=yield ut(this.storage,this.storageKey,!0));try{return yield D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(a){if(T(a))return{data:null,error:a};throw a}})}getUserIdentities(){return d(this,null,function*(){var e;try{let{data:i,error:s}=yield this.getUser();if(s)throw s;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(T(i))return{data:null,error:i};throw i}})}linkIdentity(e){return d(this,null,function*(){var i;try{let{data:s,error:r}=yield this._useSession(o=>d(this,null,function*(){var a,l,c,u,h;let{data:p,error:f}=o;if(f)throw f;let g=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return yield D(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})}));if(r)throw r;return _e()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:e.provider,url:s?.url},error:null}}catch(s){if(T(s))return{data:{provider:e.provider,url:null},error:s};throw s}})}unlinkIdentity(e){return d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s,r;let{data:o,error:a}=i;if(a)throw a;return yield D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})}))}catch(i){if(T(i))return{data:null,error:i};throw i}})}_refreshAccessToken(e){return d(this,null,function*(){let i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{let s=Date.now();return yield Za(r=>d(this,null,function*(){return r>0&&(yield Ya(200*Math.pow(2,r-1))),this._debug(i,"refreshing attempt",r),yield D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Re})}),(r,o)=>{let a=200*Math.pow(2,r);return o&&En(o)&&Date.now()+a-s<ot})}catch(s){if(this._debug(i,"error",s),T(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(i,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,i){return d(this,null,function*(){let s=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",s),_e()&&!i.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}})}_recoverAndRefresh(){return d(this,null,function*(){var e;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let s=yield Ei(this.storage,this.storageKey);if(this._debug(i,"session from storage",s),!this._isValidSession(s)){this._debug(i,"session is not valid"),s!==null&&(yield this._removeSession());return}let r=((e=s.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<bn;if(this._debug(i,`session has${r?"":" not"} expired with margin of ${bn}s`),r){if(this.autoRefreshToken&&s.refresh_token){let{error:o}=yield this._callRefreshToken(s.refresh_token);o&&(console.error(o),En(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(i,"error",s),console.error(s);return}finally{this._debug(i,"end")}})}_callRefreshToken(e){return d(this,null,function*(){var i,s;if(!e)throw new de;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new wi;let{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new de;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(r,"error",o),T(o)){let a={session:null,error:o};return En(o)||(yield this._removeSession()),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null,this._debug(r,"end")}})}_notifyAllSubscribers(e,i,s=!0){return d(this,null,function*(){let r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",i,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:i});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(l=>d(this,null,function*(){try{yield l.callback(e,i)}catch(c){o.push(c)}}));if(yield Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(r,"end")}})}_saveSession(e){return d(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield er(this.storage,this.storageKey,e)})}_removeSession(){return d(this,null,function*(){this._debug("#_removeSession()"),yield Si(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}_startAutoRefresh(){return d(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ot);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>d(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return d(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return d(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>d(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(i=>d(this,null,function*(){let{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let r=Math.floor((s.expires_at*1e3-e)/ot);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${ot}ms, refresh threshold is ${vn} ticks`),r<=vn&&(yield this._callRefreshToken(s.refresh_token))}))}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof Ci)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return d(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!_e()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>d(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return d(this,null,function*(){let i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,i,s){return d(this,null,function*(){let r=[`provider=${encodeURIComponent(i)}`];if(s?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){let[o,a]=yield ut(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(s?.queryParams){let o=new URLSearchParams(s.queryParams);r.push(o.toString())}return s?.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${r.join("&")}`})}_unenroll(e){return d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s;let{data:r,error:o}=i;return o?{data:null,error:o}:yield D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})}))}catch(i){if(T(i))return{data:null,error:i};throw i}})}_enroll(e){return d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s,r;let{data:o,error:a}=i;if(a)return{data:null,error:a};let l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=yield D(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((r=c?.totp)===null||r===void 0)&&r.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})}))}catch(i){if(T(i))return{data:null,error:i};throw i}})}_verify(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s;let{data:r,error:o}=i;if(o)return{data:null,error:o};let{data:a,error:l}=yield D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})}))}catch(i){if(T(i))return{data:null,error:i};throw i}}))})}_challenge(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(i=>d(this,null,function*(){var s;let{data:r,error:o}=i;return o?{data:null,error:o}:yield D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=r?.session)===null||s===void 0?void 0:s.access_token})}))}catch(i){if(T(i))return{data:null,error:i};throw i}}))})}_challengeAndVerify(e){return d(this,null,function*(){let{data:i,error:s}=yield this._challenge({factorId:e.factorId});return s?{data:null,error:s}:yield this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})})}_listFactors(){return d(this,null,function*(){let{data:{user:e},error:i}=yield this.getUser();if(i)return{data:null,error:i};let s=e?.factors||[],r=s.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=s.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:s,totp:r,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){return yield this._useSession(e=>d(this,null,function*(){var i,s;let{data:{session:r},error:o}=e;if(o)return{data:null,error:o};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=Cn(r.access_token),l=null;a.aal&&(l=a.aal);let c=l;((s=(i=r.user.factors)===null||i===void 0?void 0:i.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");let h=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(s){return d(this,arguments,function*(e,i={keys:[]}){let r=i.keys.find(l=>l.kid===e);if(r||(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+ja>Date.now()))return r;let{data:o,error:a}=yield D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new Fe("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),r=o.keys.find(l=>l.kid===e),!r)throw new Fe("No matching signing key found in JWKS");return r})}getClaims(s){return d(this,arguments,function*(e,i={keys:[]}){try{let r=e;if(!r){let{data:_,error:b}=yield this.getSession();if(b||!_.session)return{data:null,error:b};r=_.session.access_token}let{header:o,payload:a,signature:l,raw:{header:c,payload:u}}=Cn(r);if(el(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:_}=yield this.getUser(r);if(_)throw _;return{data:{claims:a,header:o,signature:l},error:null}}let h=tl(o.alg),p=yield this.fetchJwk(o.kid,i),f=yield crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,l,za(`${c}.${u}`))))throw new Fe("Invalid JWT signature");return{data:{claims:a,header:o,signature:l},error:null}}catch(r){if(T(r))return{data:null,error:r};throw r}})}}return n.nextInstanceID=0,n})();var qh=sr,rr=qh;var An=class extends rr{constructor(t){super(t)}};var Hh=function(n,t,e,i){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(u){try{c(i.next(u))}catch(h){o(h)}}function l(u){try{c(i.throw(u))}catch(h){o(h)}}function c(u){u.done?r(u.value):s(u.value).then(a,l)}c((i=i.apply(n,t||[])).next())})},Dn=class{constructor(t,e,i){var s,r,o;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=Ia(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:ka,realtime:Ma,auth:Object.assign(Object.assign({},xa),{storageKey:l}),global:Da},u=Pa(i??{},c);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Oa(e,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new pa(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new si(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new mi(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},i={}){return this.rest.rpc(t,e,i)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return Hh(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:i}=yield this.auth.getSession();return(e=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,storageKey:r,flowType:o,lock:a,debug:l},c,u){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new An({url:this.authUrl,headers:Object.assign(Object.assign({},h),c),storageKey:r,autoRefreshToken:t,persistSession:e,detectSessionInUrl:i,storage:s,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new fi(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,i)=>{this._handleTokenChanged(e,"CLIENT",i?.access_token)})}_handleTokenChanged(t,e,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var kn=(n,t,e)=>new Dn(n,t,e);var Nt={production:!0,supabaseUrl:"https://hoozfpascflaomjgffzx.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imhvb3pmcGFzY2ZsYW9tamdmZnp4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1Mzk0MzQsImV4cCI6MjA2MTExNTQzNH0.e_zW5Ljyd9-wXrnhcGUVYWmTrEi1JPSRrBeL0v2OH4w"};var He=(()=>{class n{constructor(){this.isLoggedIn$=new hr(!1),this.supabase=kn(Nt.supabaseUrl,Nt.supabaseKey),this.checkSession()}checkSession(){return d(this,null,function*(){let{data:{session:e}}=yield this.supabase.auth.getSession();this.isLoggedIn$.next(!!e),this.supabase.auth.onAuthStateChange((i,s)=>{this.isLoggedIn$.next(!!s)})})}getSupabase(){return this.supabase}loginWithEmail(e,i){return d(this,null,function*(){let{data:s,error:r}=yield this.supabase.auth.signInWithPassword({email:e,password:i});if(r)throw r;return s.user})}getUsuarioExtendido(){return d(this,null,function*(){let{data:e}=yield this.supabase.auth.getUser(),i=e.user;if(!i)throw new Error("Usuario no autenticado");let{data:s,error:r}=yield this.supabase.from("miTabla").select("email").eq("authId",i.id).single();if(r)throw r;return te(N({},s),{mail:i.email})})}logout(){return d(this,null,function*(){try{yield this.supabase.auth.signOut(),localStorage.clear(),this.isLoggedIn$.next(!1)}catch(e){console.error("Error al cerrar sesi\xF3n:",e.message)}})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ul=(()=>{class n{constructor(e,i){this.authService=e,this.router=i,this.mail="",this.password="",this.error=""}login(){return d(this,null,function*(){try{let e=yield this.authService.loginWithEmail(this.mail,this.password),i=yield this.authService.getUsuarioExtendido();this.router.navigate(["/home"])}catch(e){this.error="Email o contrase\xF1a incorrectos",console.error("Login error:",e.message)}})}autocompletar(){this.mail="bifidi3985@acedby.com",this.password="hola123"}static{this.\u0275fac=function(i){return new(i||n)(M(He),M(_t))}}static{this.\u0275cmp=Z({type:n,selectors:[["app-login"]],standalone:!0,features:[X],decls:20,vars:2,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-4"],[1,"card","shadow","rounded-3"],[1,"card-body"],[1,"card-title","text-center","mb-4"],[1,"mb-3"],["for","mail",1,"form-label"],["type","email","id","mail","placeholder","ejemplo@mail.com",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Contrase\xF1a",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-grid","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-secondary",3,"click"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),v(6,"Iniciar Sesi\xF3n"),m(),y(7,"div",6)(8,"label",7),v(9,"Correo electr\xF3nico"),m(),y(10,"input",8),Oe("ngModelChange",function(o){return Me(s.mail,o)||(s.mail=o),o}),m()(),y(11,"div",6)(12,"label",9),v(13,"Contrase\xF1a"),m(),y(14,"input",10),Oe("ngModelChange",function(o){return Me(s.password,o)||(s.password=o),o}),m()(),y(15,"div",11)(16,"button",12),$("click",function(){return s.login()}),v(17,"Login"),m(),y(18,"button",13),$("click",function(){return s.autocompletar()}),v(19,"Auto"),m()()()()()()()),i&2&&(S(10),xe("ngModel",s.mail),S(4),xe("ngModel",s.password))},dependencies:[Ct,Be,St,it]})}}return n})();var hl=(()=>{class n{transform(e,i){return i?e.filter(s=>s.nombre.toLowerCase().includes(i.toLowerCase())):e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275pipe=mr({name:"juegoFiltro",type:n,pure:!0,standalone:!0})}}return n})();var Gh=["ultimoMensaje"],zh=(n,t)=>({"align-items-end text-end":n,"align-items-start text-start":t}),Kh=(n,t)=>({"bg-primary text-white":n,"bg-light text-dark":t});function Wh(n,t){if(n&1&&(y(0,"div",12)(1,"h1",13),v(2),m(),y(3,"p",14),v(4,"Disfrut\xE1 de los juegos \u{1F3AE}"),m()()),n&2){let e=F();S(2),pe("\xA1Bienvenido, ",e.nombreUsuario,"!")}}function Jh(n,t){n&1&&(y(0,"div",12)(1,"h1",15),v(2,"Bienvenido, conectate"),m(),y(3,"p",14),v(4,"Disfuta de los juegos mientras."),m()())}function Qh(n,t){if(n&1){let e=ie();y(0,"button",16),$("click",function(){q(e);let s=F();return H(s.filtro="")}),v(1," \xD7 "),m()}}function Yh(n,t){if(n&1){let e=ie();y(0,"div",25)(1,"p",26),v(2),m(),y(3,"button",27),$("click",function(s){return q(e),F(2).jugar(),H(s.stopPropagation())}),v(4,"Jugar"),m()()}if(n&2){let e=F().$implicit;S(2),Di(e.descripcion)}}function Zh(n,t){if(n&1){let e=ie();y(0,"div",17)(1,"div",18),$("click",function(){let s=q(e).$implicit,r=F();return H(r.seleccionarJuego(s))}),y(2,"div",19),Q(3,"img",20),m(),y(4,"div",21)(5,"h5",22),Q(6,"i",23),v(7),m(),z(8,Yh,5,1,"div",24),m()()()}if(n&2){let e=t.$implicit,i=F();S(3),Cr("alt",e.nombre),I("src",i.getImagen(e),vr),S(3),I("ngClass",e.icono),S(),pe(" ",e.nombre," "),S(),I("ngIf",i.juegoSeleccionado===e)}}function Xh(n,t){if(n&1&&(y(0,"div")(1,"div",38)(2,"div")(3,"strong"),v(4),m()(),y(5,"div",39),v(6),m(),y(7,"small",40),v(8),We(9,"date"),m()(),Q(10,"hr",41)(11,"div",null,1),m()),n&2){let e=t.$implicit,i=t.index,s=F(3);S(),I("ngClass",$n(9,zh,e.usuario===s.nombreUsuario,e.usuario!==s.nombreUsuario)),S(3),Di(e.usuario),S(),I("ngClass",$n(12,Kh,e.usuario===s.nombreUsuario,e.usuario!==s.nombreUsuario)),S(),pe(" ",e.texto," "),S(2),Di(Un(9,6,e.fecha,"short")),S(3),De("data-ultimo",i===s.mensajesOrdenados.length-1?!0:null)}}function ed(n,t){if(n&1){let e=ie();y(0,"div",31)(1,"div",32)(2,"strong"),v(3,"Chat"),m(),y(4,"button",33),$("click",function(){q(e);let s=F(2);return H(s.mostrarChat=!1)}),m()(),y(5,"div",34),z(6,Xh,13,15,"div",35),m(),y(7,"div",36)(8,"input",37),Oe("ngModelChange",function(s){q(e);let r=F(2);return Me(r.nuevoMensaje,s)||(r.nuevoMensaje=s),H(s)}),$("keyup.enter",function(){q(e);let s=F(2);return H(s.enviarMensaje())}),m()()()}if(n&2){let e=F(2);S(6),I("ngForOf",e.mensajesOrdenados),S(2),xe("ngModel",e.nuevoMensaje)}}function td(n,t){if(n&1){let e=ie();y(0,"div",28)(1,"button",29),$("click",function(){q(e);let s=F();return H(s.toggleChat())}),v(2," \u{1F4AC} "),m(),z(3,ed,9,2,"div",30),m()}if(n&2){let e=F();S(3),I("ngIf",e.mostrarChat)}}var dl=(()=>{class n{constructor(e,i){this.router=e,this.authService=i,this.canalChat=null,this.nombreUsuario="",this.conectado=!1,this.filtro="",this.juegoSeleccionado=null,this.ahorcado="Adivina la Palabra en 7 o menos intentos, juego clasico de ahorcado.",this.mostrarChat=!1,this.nuevoMensaje="",this.mensajes=[],this.juegos=[{nombre:"Mayor o Menor",ruta:["juegos","MayoryMenor"],descripcion:"Adivina la siguiente carta si es mayor o menor, probemos tu suerte.",icono:"bi-suit-spade-fill"},{nombre:"Preguntado",ruta:["juegos","Preguntado"],descripcion:"Responde correctamente quien es el personaje que aparece.",icono:"bi-question-circle"},{nombre:"Blackjack",ruta:["juegos","Blackjack"],descripcion:"Gana quien se acerque mas a 21 sin pasarse, ganale al croupier!.",icono:"bi-controller"},{nombre:"Ahorcado",ruta:["juegos","Ahorcado"],descripcion:this.ahorcado,icono:"bi-person-x"}],this.supabase=this.authService.getSupabase()}ngOnInit(){this.authService.isLoggedIn$.subscribe(e=>d(this,null,function*(){if(this.conectado=e,e)try{let i=yield this.authService.getUsuarioExtendido();this.nombreUsuario=i.mail||"Email",this.cargarMensajes(),this.escucharMensajes()}catch(i){console.error("Error al obtener usuario:",i)}}))}cargarMensajes(){return d(this,null,function*(){let e=this.authService.getSupabase(),{data:i,error:s}=yield e.from("chat").select("*").order("created_at",{ascending:!0});!s&&i&&(this.mensajes=i.map(r=>({usuario:r.mail,texto:r.mensaje,fecha:new Date(r.created_at)})),this.scrollAlUltimoMensaje())})}escucharMensajes(){this.authService.getSupabase().channel("chat-stream").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat"},i=>{let s=i.new;this.mensajes.push({usuario:s.mail,texto:s.mensaje,fecha:new Date(s.created_at)}),this.scrollAlUltimoMensaje()}).subscribe()}seleccionarJuego(e){this.juegoSeleccionado=e}jugar(){this.juegoSeleccionado&&this.router.navigate(this.juegoSeleccionado.ruta)}getImagen(e){return`assets/juegos/${e.nombre.toLowerCase().replace(/\s/g,"")}.png`}get mensajesOrdenados(){return this.mensajes.slice().sort((e,i)=>e.fecha.getTime()-i.fecha.getTime())}enviarMensaje(){return d(this,null,function*(){if(this.nuevoMensaje.trim()){let e=this.authService.getSupabase(),{error:i}=yield e.from("chat").insert({mail:this.nombreUsuario,mensaje:this.nuevoMensaje.trim()});i||(this.nuevoMensaje="")}})}scrollAlUltimoMensaje(){setTimeout(()=>{let e=this.mensajesRefs.toArray();e.length&&e[e.length-1].nativeElement.scrollIntoView({behavior:"smooth"})},0)}toggleChat(){this.mostrarChat=!this.mostrarChat,this.mostrarChat&&this.scrollAlUltimoMensaje()}static{this.\u0275fac=function(i){return new(i||n)(M(_t),M(He))}}static{this.\u0275cmp=Z({type:n,selectors:[["app-bienvenidos"]],viewQuery:function(i,s){if(i&1&&Tr(Gh,5,gt),i&2){let r;Ar(r=Dr())&&(s.mensajesRefs=r)}},standalone:!0,features:[X],decls:14,vars:9,consts:[["noConectado",""],["ultimoMensaje",""],["class","text-center my-5",4,"ngIf","ngIfElse"],[1,"container","py-4"],[1,"mb-3","w-50"],[1,"position-relative"],["type","text","placeholder","Buscar juego...",1,"form-control","pe-5",3,"ngModelChange","ngModel"],["type","button","class","btn btn-sm btn-link position-absolute top-50 end-0 translate-middle-y me-2 text-danger","aria-label","Borrar",3,"click",4,"ngIf"],[1,"col-12"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-3"],["class","col",4,"ngFor","ngForOf"],["class","chat-toggle position-fixed bottom-0 end-0 m-4",4,"ngIf"],[1,"text-center","my-5"],[1,"fw-bold"],[1,"lead","text-white"],[1,"text-white"],["type","button","aria-label","Borrar",1,"btn","btn-sm","btn-link","position-absolute","top-50","end-0","translate-middle-y","me-2","text-danger",3,"click"],[1,"col"],[1,"card","h-100","cursor-pointer","shadow-sm","card-color",3,"click"],[1,"d-flex","align-items-center","justify-content-center","bg-light","rounded-top",2,"height","240px","overflow","hidden"],[2,"max-height","100%","max-width","100%","object-fit","contain",3,"src","alt"],[1,"card-body","px-3","py-2"],[1,"card-title","mb-2"],[1,"bi","me-2",3,"ngClass"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"card-text","small"],[1,"btn","btn-success","w-100","mt-2",3,"click"],[1,"chat-toggle","position-fixed","bottom-0","end-0","m-4"],["aria-label","Toggle Chat",1,"btn","btn-primary","rounded-circle","shadow",3,"click"],["class","card mt-2 shadow chat-window","style","width: 300px;",4,"ngIf"],[1,"card","mt-2","shadow","chat-window",2,"width","300px"],[1,"card-header","d-flex","justify-content-between","align-items-center"],["type","button","aria-label","Cerrar",1,"btn-close","btn-sm",3,"click"],[1,"card-body","chat-messages",2,"max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],[1,"card-footer","p-2"],["type","text","placeholder","Escribe un mensaje...",1,"form-control","form-control-sm",3,"ngModelChange","keyup.enter","ngModel"],[1,"mb-2","d-flex","flex-column",3,"ngClass"],[1,"mensaje-texto","p-2","rounded",3,"ngClass"],[1,"text-muted"],[1,"my-1"]],template:function(i,s){if(i&1){let r=ie();z(0,Wh,5,1,"div",2)(1,Jh,5,0,"ng-template",null,0,kr),Q(3,"hr"),y(4,"div",3)(5,"div",4)(6,"div",5)(7,"input",6),Oe("ngModelChange",function(a){return q(r),Me(s.filtro,a)||(s.filtro=a),H(a)}),m(),z(8,Qh,2,0,"button",7),m()(),y(9,"div",8)(10,"div",9),z(11,Zh,9,5,"div",10),We(12,"juegoFiltro"),m()(),z(13,td,4,1,"div",11),m()}if(i&2){let r=Ai(2);I("ngIf",s.conectado)("ngIfElse",r),S(7),xe("ngModel",s.filtro),S(),I("ngIf",s.filtro),S(3),I("ngForOf",Un(12,6,s.juegos,s.filtro)),S(2),I("ngIf",s.conectado)}},dependencies:[Je,Ir,Ct,Be,St,it,hl,Or,Fr,Rr],styles:[".card-title[_ngcontent-%COMP%]{text-align:center}.chat-window[_ngcontent-%COMP%]{z-index:1050}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.card-color[_ngcontent-%COMP%]{background-color:#bec060}.card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0000001a}.mensaje-texto[_ngcontent-%COMP%]{max-width:70%;word-wrap:break-word}.bg-primary[_ngcontent-%COMP%]{background-color:#0d6efd!important}.bg-light[_ngcontent-%COMP%]{background-color:#f8f9fa!important}"]})}}return n})();var fl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["app-error"]],standalone:!0,features:[X],decls:2,vars:0,template:function(i,s){i&1&&(y(0,"h1"),v(1,"404 pagina no encontrda"),m())}})}}return n})();var pl=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=Z({type:n,selectors:[["app-quien-soy"]],standalone:!0,features:[X],decls:73,vars:0,consts:[[1,"container","mt-5"],[1,"text-white","mb-4"],[1,"card","mb-4","shadow-sm","p-3","fondo"],[1,"row","g-3","align-items-center"],[1,"col-md-3","text-center"],["src","../../../assets/imagenes/Mi-foto.jpg","alt","Mi Foto",1,"img-fluid","rounded","shadow",2,"max-height","200px"],[1,"col-md-9"],[1,"list-group","list-group-flush"],[1,"list-group-item"],[1,"text-white","mb-3"],[1,"card","shadow-sm","p-4","mb-5","blackjack","text-white"]],template:function(i,s){i&1&&(y(0,"div",0)(1,"h1",1),v(2,"Informaci\xF3n Personal"),m(),y(3,"div",2)(4,"div",3)(5,"div",4),Q(6,"img",5),m(),y(7,"div",6)(8,"ul",7)(9,"li",8)(10,"strong"),v(11,"Nombre:"),m(),v(12," Ivan Matias"),m(),y(13,"li",8)(14,"strong"),v(15,"Apellido:"),m(),v(16," Cantero"),m(),y(17,"li",8)(18,"strong"),v(19,"Edad:"),m(),v(20," 25 a\xF1os"),m(),y(21,"li",8)(22,"strong"),v(23,"Materia:"),m(),v(24," Laboratorio IV"),m(),y(25,"li",8)(26,"strong"),v(27,"Curso:"),m(),v(28," A341"),m()()()()(),Q(29,"hr"),y(30,"h2",9),v(31,"Informaci\xF3n del Juego: Blackjack"),m(),y(32,"div",10)(33,"p")(34,"strong"),v(35,"Blackjack"),m(),v(36," (tambi\xE9n conocido como 21) es un juego de cartas popular en casinos. El objetivo es sumar una mano lo m\xE1s cercana posible a "),y(37,"strong"),v(38,"21 puntos"),m(),v(39," sin pasarse. "),m(),y(40,"h3"),v(41,"Reglas:"),m(),y(42,"ul")(43,"li"),v(44,"Las cartas num\xE9ricas valen su n\xFAmero."),m(),y(45,"li"),v(46,"Las figuras (J, Q, K) valen 10 puntos."),m(),y(47,"li"),v(48,"El As puede valer 1 u 11 puntos, dependiendo de lo que m\xE1s convenga."),m()(),y(49,"p"),v(50," Cada jugador compite contra el crupier (no entre s\xED). Se reparten dos cartas a cada uno. El jugador puede: "),m(),y(51,"ul")(52,"li")(53,"strong"),v(54,"Pedir carta"),m(),v(55,": recibe una m\xE1s."),m(),y(56,"li")(57,"strong"),v(58,"Plantarse"),m(),v(59,": se queda con su mano."),m()(),y(60,"p"),v(61," Si el jugador supera los 21 puntos, "),y(62,"strong"),v(63,"pierde autom\xE1ticamente"),m(),v(64," (esto se llama \u201Cpasarse\u201D). "),m(),y(65,"p"),v(66," El crupier debe seguir reglas fijas: "),y(67,"strong"),v(68,"pedir hasta llegar a 17 o m\xE1s"),m(),v(69,". Luego se comparan los puntos. "),m(),y(70,"p")(71,"strong"),v(72,"\xA1Gana quien est\xE9 m\xE1s cerca de 21 sin pasarse!"),m()()()())},styles:[".blackjack[_ngcontent-%COMP%]{background-image:url(/assets/blackjack/fondopoker.png)}.fondo[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:#0009;color:#fff;border:1px solid rgba(255,255,255,.1)}.list-group-item[_ngcontent-%COMP%]{background-color:#1e1e2f!important;color:#f8f9fa;border-color:#ffffff1a}"]})}}return n})();var ml=kn(Nt.supabaseUrl,Nt.supabaseKey),gl=(()=>{class n{constructor(e,i,s){this.router=e,this.toastr=i,this.authService=s,this.mail="",this.password=""}register(){return d(this,null,function*(){if(this.password.length<6){this.toastr.error("La contrase\xF1a debe tener al menos 6 caracteres.","Contrase\xF1a inv\xE1lida");return}let{data:e,error:i}=yield ml.auth.signUp({email:this.mail,password:this.password});if(i){i.message.includes("already registered")||i.message.includes("duplicate key")?this.toastr.error("El correo ya est\xE1 registrado. Prob\xE1 con otro.","Correo duplicado"):this.toastr.error("Ocurri\xF3 un error al registrarte.","Error"),console.error("Error al registrar:",i.message);return}e.user&&this.saveUserData(e.user)})}saveUserData(e){ml.from("miTabla").insert([{authId:e.id,email:this.mail}]).then(s=>d(this,[s],function*({error:i}){if(i){console.error("Error al guardar datos del usuario:",i.message),this.toastr.error("No se pudo guardar la informaci\xF3n del usuario","Error");return}try{yield this.authService.loginWithEmail(this.mail,this.password),this.authService.isLoggedIn$.next(!0),this.toastr.success("Usuario registrado exitosamente","\xA1\xC9xito!"),this.router.navigate(["/home"])}catch(r){console.error("Error al loguear autom\xE1ticamente:",r.message),this.toastr.error("Error al iniciar sesi\xF3n autom\xE1ticamente","Error")}}))}static{this.\u0275fac=function(i){return new(i||n)(M(_t),M(Ii),M(He))}}static{this.\u0275cmp=Z({type:n,selectors:[["app-registro"]],standalone:!0,features:[X],decls:16,vars:3,consts:[["registroForm","ngForm"],[1,"container","mt-5"],[1,"card","shadow","rounded","p-4","form-container"],[1,"mb-4","text-center","text-black"],[3,"ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","id","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(i,s){if(i&1){let r=ie();y(0,"div",1)(1,"div",2)(2,"h2",3),v(3,"Registro"),m(),y(4,"form",4,0),$("ngSubmit",function(){return q(r),H(s.register())}),y(6,"div",5)(7,"label",6),v(8,"Email"),m(),y(9,"input",7),Oe("ngModelChange",function(a){return q(r),Me(s.mail,a)||(s.mail=a),H(a)}),m()(),y(10,"div",5)(11,"label",8),v(12,"Contrase\xF1a"),m(),y(13,"input",9),Oe("ngModelChange",function(a){return q(r),Me(s.password,a)||(s.password=a),H(a)}),m()(),y(14,"button",10),v(15," Registrarse "),m()()()()}if(i&2){let r=Ai(5);S(9),xe("ngModel",s.mail),S(4),xe("ngModel",s.password),S(),I("disabled",!r.form.valid)}},dependencies:[Ct,Xo,Be,St,Ko,Ps,it,Is],styles:[".form-container[_ngcontent-%COMP%]{max-width:500px;margin:auto;background-color:#fff;border:1px solid #dee2e6}input[type=file][_ngcontent-%COMP%]{padding:6px}button[_ngcontent-%COMP%]{transition:background-color .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#004085}"]})}}return n})();var _l=[{path:"",pathMatch:"full",redirectTo:"home"},{path:"login",component:ul},{path:"home",component:dl},{path:"quien-soy",component:pl},{path:"registro",component:gl},{path:"juegos",loadChildren:()=>import("./chunk-FYBGZZLC.js").then(n=>n.JuegosModule)},{path:"**",component:fl}];var yl={providers:[Hr(_l),_r(Mo),Xr({positionClass:"toast-bottom-right",timeOut:4e3,progressBar:!0,closeButton:!0}),Nr()]};function id(n,t){n&1&&(y(0,"li",6)(1,"a",10),v(2,"Login"),m()())}function nd(n,t){n&1&&(y(0,"li",6)(1,"a",11),v(2,"Registro"),m()())}function sd(n,t){if(n&1){let e=ie();y(0,"li",6)(1,"a",12),$("click",function(){q(e);let s=F();return H(s.logout())}),v(2,"Log Out"),m()()}}var vl=(()=>{class n{constructor(e){this.authService=e,this.title="TpLabo",this.menuOpen=!1}toggleMenu(){this.menuOpen=!this.menuOpen}closeMenu(){this.menuOpen=!1}logout(){this.authService.logout()}static{this.\u0275fac=function(i){return new(i||n)(M(He))}}static{this.\u0275cmp=Z({type:n,selectors:[["app-root"]],standalone:!0,features:[X],decls:19,vars:9,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container-fluid"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","home","routerLinkActive","active",1,"nav-link"],["class","nav-item",4,"ngIf"],["routerLink","quien-soy","routerLinkActive","active",1,"nav-link"],["routerLink","login","routerLinkActive","active",1,"nav-link"],["routerLink","registro","routerLinkActive","active",1,"nav-link"],[1,"nav-link","logout",3,"click"]],template:function(i,s){i&1&&(y(0,"nav",0)(1,"div",1)(2,"button",2),Q(3,"span",3),m(),y(4,"div",4)(5,"ul",5)(6,"li",6)(7,"a",7),v(8,"Home"),m()(),z(9,id,3,0,"li",8),We(10,"async"),z(11,nd,3,0,"li",8),We(12,"async"),y(13,"li",6)(14,"a",9),v(15,"Qui\xE9n Soy"),m()(),z(16,sd,3,0,"li",8),We(17,"async"),m()()()(),Q(18,"router-outlet")),i&2&&(S(9),I("ngIf",!ki(10,3,s.authService.isLoggedIn$)),S(2),I("ngIf",!ki(12,5,s.authService.isLoggedIn$)),S(5),I("ngIf",ki(17,7,s.authService.isLoggedIn$)))},dependencies:[Ur,qr,Br,Pr,Je],styles:['.navbar[_ngcontent-%COMP%]{background-image:url("./media/fondo-nav-CDPKPURI.jpg");background-size:cover;background-position:center}.logout[_ngcontent-%COMP%]{cursor:pointer}']})}}return n})();jr(vl,yl).catch(n=>console.error(n));

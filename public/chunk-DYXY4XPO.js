import{$ as p,Aa as w,Ba as S,E as v,Ea as b,F as r,Fa as A,G as j,Ma as $,Na as D,O as g,Q as c,Qa as O,R as z,U as s,V as a,W as _,Z as x,aa as l,d as H,ga as o,ha as C,i as M,ia as f,j as T,ja as B,l as E,o as k,oa as y,p as V,pa as J,v as u,w as h,za as N}from"./chunk-EC6FYDXY.js";import{i as R}from"./chunk-P2VZOJAX.js";function W(t,d){if(t&1&&(s(0,"span",14),o(1),a()),t&2){let e=d.$implicit,i=l();r(),f(" ",i.mostrarLetra(e)," ")}}function X(t,d){if(t&1){let e=x();s(0,"button",15),p("click",function(){let n=u(e).$implicit,m=l();return h(m.seleccionarLetra(n))}),o(1),a()}if(t&2){let e=d.$implicit,i=l();c("disabled",i.letrasSeleccionadas.includes(e)||i.intentosRestantes===0||i.mensaje),r(),f(" ",e," ")}}function Z(t,d){if(t&1&&(s(0,"div",16),o(1),a()),t&2){let e=l();r(),f(" Puntaje: ",e.score," ")}}var G=(()=>{class t{constructor(){this.palabras=["GAGO","CAVANI","ROJO","FABRA"],this.palabraSecreta="",this.letrasSeleccionadas=[],this.intentosRestantes=7,this.imagenSrc="assets/ahorcado/ahorcado0",this.mensaje="",this.abecedario="ABCDEFGHIJKLMNOPQRSTUVWXYZ\xD1".split(""),this.score=0}ngOnInit(){this.iniciarJuego()}iniciarJuego(){this.score=0,this.palabraSecreta=this.palabras[Math.floor(Math.random()*this.palabras.length)],this.letrasSeleccionadas=[],this.intentosRestantes=7,this.imagenSrc="assets/ahorcado/ahorcado0.png",this.mensaje=""}seleccionarLetra(e){if(!(this.letrasSeleccionadas.includes(e)||this.intentosRestantes===0||this.juegoGanado())){if(this.letrasSeleccionadas.push(e),!this.palabraSecreta.includes(e))this.intentosRestantes--,this.imagenSrc=`assets/ahorcado/ahorcado${7-this.intentosRestantes}.png`,this.intentosRestantes===0&&(this.mensaje="\xA1Has perdido! \u{1F622}");else if(this.juegoGanado()){let i=this.palabraSecreta.split("").filter((n,m,P)=>this.letrasSeleccionadas.includes(n)&&P.indexOf(n)===m).length;this.score=i*100*this.intentosRestantes,this.mensaje=`\xA1Has ganado! \u{1F389} Tu puntaje: ${this.score}`}}}mostrarLetra(e){return this.letrasSeleccionadas.includes(e)?e:"_"}juegoGanado(){return this.palabraSecreta.split("").every(e=>this.letrasSeleccionadas.includes(e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=k({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[y],decls:19,vars:5,consts:[[1,"container","mt-4","text-center","text-white"],[1,"card","p-4","card-transparente"],[1,"text-end"],["routerLink","/home",1,"btn","btn-danger"],[1,"text-center"],["alt","Ahorcado",1,"img-fluid","mb-3",2,"max-height","250px",3,"src"],[1,"palabra","mb-3"],["class","mx-1 fs-3 border-bottom text-white",4,"ngFor","ngForOf"],[1,"letras","mb-3"],[1,"letras"],["class","btn btn-success m-1","style","width: 45px; height: 45px;",3,"disabled","click",4,"ngFor","ngForOf"],[1,"mensaje","fs-4","fw-bold","text-white"],["class","fs-5 text-primary",4,"ngIf"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"mx-1","fs-3","border-bottom","text-white"],[1,"btn","btn-success","m-1",2,"width","45px","height","45px",3,"click","disabled"],[1,"fs-5","text-primary"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"h2"),o(2,"Ahorcado"),a(),s(3,"div",1)(4,"div",2)(5,"a",3),o(6," Salir "),a()(),s(7,"div",4),_(8,"img",5),s(9,"div",6),g(10,W,2,1,"span",7),a(),s(11,"div",8)(12,"div",9),g(13,X,2,2,"button",10),a()(),s(14,"div",11),o(15),a(),g(16,Z,2,1,"div",12),s(17,"button",13),p("click",function(){return n.iniciarJuego()}),o(18," Reiniciar "),a()()()()),i&2&&(r(8),c("src",n.imagenSrc,v),r(2),c("ngForOf",n.palabraSecreta.split("")),r(3),c("ngForOf",n.abecedario),r(2),C(n.mensaje),r(),c("ngIf",n.score>0))},dependencies:[w,D,S,b],styles:[".card-transparente[_ngcontent-%COMP%]{background-color:transparent;border:none;box-shadow:none}"]})}}return t})();var F=(()=>{class t{constructor(e){this.http=e,this.baseUrl="https://deckofcardsapi.com/api/deck"}createDeck(e){return this.http.get(`${this.baseUrl}/new/shuffle/?deck_count=${e}`)}drawCards(e,i){return this.http.get(`${this.baseUrl}/${e}/draw/?count=${i}`)}static{this.\u0275fac=function(i){return new(i||t)(E(A))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function te(t,d){if(t&1&&_(0,"img",9),t&2){let e=d.$implicit;c("src",e.image,v)}}function ie(t,d){t&1&&_(0,"img",10)}function ne(t,d){if(t&1&&(s(0,"p"),o(1),a()),t&2){let e=l();r(),f("Total: ",e.getHandValue(e.dealerHand),"")}}function ae(t,d){if(t&1&&_(0,"img",9),t&2){let e=d.$implicit;c("src",e.image,v)}}function re(t,d){if(t&1){let e=x();s(0,"div")(1,"button",11),p("click",function(){u(e);let n=l();return h(n.pedirCarta())}),o(2,"Pedir carta"),a(),s(3,"button",12),p("click",function(){u(e);let n=l();return h(n.plantarse())}),o(4,"Plantarse"),a()()}}function se(t,d){if(t&1&&(s(0,"p",13),o(1),a()),t&2){let e=l();r(),C(e.message)}}function oe(t,d){if(t&1){let e=x();s(0,"button",14),p("click",function(){u(e);let n=l();return h(n.nextHand())}),o(1,"Continuar"),a()}}function ce(t,d){if(t&1){let e=x();s(0,"button",15),p("click",function(){u(e);let n=l();return h(n.restartGame())}),o(1,"Reiniciar partida"),a()}}var Y=(()=>{class t{constructor(e){this.deckService=e,this.deckId="",this.playerHand=[],this.dealerHand=[],this.hiddenCard=null,this.canContinue=!1,this.gameOver=!1,this.message="",this.score=0,this.lives=3,this.winStreak=0,this.maxStreak=0}ngOnInit(){this.startGame()}startGame(){this.deckService.createDeck(3).subscribe(e=>{this.deckId=e.deck_id,this.drawInitialCards()})}drawInitialCards(){this.deckService.drawCards(this.deckId,4).subscribe(e=>{this.playerHand=[e.cards[0],e.cards[2]],this.dealerHand=[e.cards[1]],this.hiddenCard=e.cards[3]})}pedirCarta(){this.deckService.drawCards(this.deckId,1).subscribe(e=>{this.playerHand.push(e.cards[0]),this.getHandValue(this.playerHand)>21&&this.endRound(!1,"Te pasaste de 21")})}plantarse(){return R(this,null,function*(){this.revealDealerCards()})}revealDealerCards(){return R(this,null,function*(){this.dealerHand.push(this.hiddenCard);let e=this.getHandValue(this.dealerHand),i=this.getHandValue(this.playerHand);if(i>21){this.endRound(!1,"Te pasaste. El croupier gana.");return}for(;e<i&&e<21;){let n=yield H(this.deckService.drawCards(this.deckId,1));this.dealerHand.push(n.cards[0]),e=this.getHandValue(this.dealerHand)}e>21||e<i?this.endRound(!0,"Ganaste la mano"):e===i?this.endRound(!1,"Empate, gana el croupier"):this.endRound(!1,"El croupier gan\xF3")})}getHandValue(e){let i=0,n=0;for(let m of e)["KING","QUEEN","JACK"].includes(m.value)?i+=10:m.value==="ACE"?(n++,i+=11):i+=+m.value;for(;i>21&&n>0;)i-=10,n--;return i}endRound(e,i){this.message=i,this.gameOver=!0,this.canContinue=!0,e?(this.score+=100,this.winStreak++,this.winStreak>this.maxStreak&&(this.maxStreak=this.winStreak)):(this.lives--,this.winStreak=0),this.lives<=0&&(this.message+=` Juego terminado. Puntaje final: ${this.score*this.maxStreak}`)}nextHand(){this.lives>0&&(this.gameOver=!1,this.canContinue=!1,this.message="",this.playerHand=[],this.dealerHand=[],this.hiddenCard=null,this.drawInitialCards())}restartGame(){this.score=0,this.lives=3,this.winStreak=0,this.maxStreak=0,this.playerHand=[],this.dealerHand=[],this.hiddenCard=null,this.message="",this.canContinue=!1,this.gameOver=!1,this.deckService.createDeck(3).subscribe(e=>{this.deckId=e.deck_id,this.drawInitialCards()})}static{this.\u0275fac=function(i){return new(i||t)(j(F))}}static{this.\u0275cmp=k({type:t,selectors:[["app-blackjack"]],standalone:!0,features:[y],decls:21,vars:12,consts:[[1,"mesa"],[1,"dealer"],[3,"src",4,"ngFor","ngForOf"],["src","assets/blackjack/back.png","class","back-card",4,"ngIf"],[4,"ngIf"],[1,"player"],["class","result-message",4,"ngIf"],["class","btn btn-primary mt-3",3,"click",4,"ngIf"],["class","btn btn-danger mt-4",3,"click",4,"ngIf"],[3,"src"],["src","assets/blackjack/back.png",1,"back-card"],[1,"btn","btn-success","me-2",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"result-message"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"btn","btn-danger","mt-4",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"h2"),o(2,"Blackjack"),a(),s(3,"p"),o(4),a(),s(5,"div",1)(6,"h3"),o(7,"Croupier"),a(),g(8,te,1,1,"img",2)(9,ie,1,0,"img",3)(10,ne,2,1,"p",4),a(),s(11,"div",5)(12,"h3"),o(13,"Jugador"),a(),g(14,ae,1,1,"img",2),s(15,"p"),o(16),a()(),g(17,re,5,0,"div",4)(18,se,2,1,"p",6)(19,oe,2,0,"button",7)(20,ce,2,0,"button",8),a()),i&2&&(r(4),B("Vidas: ",n.lives," | Puntaje: ",n.score," | Racha: ",n.winStreak,""),r(4),c("ngForOf",n.dealerHand),r(),c("ngIf",!n.gameOver&&n.hiddenCard),r(),c("ngIf",n.gameOver),r(4),c("ngForOf",n.playerHand),r(2),f("Total: ",n.getHandValue(n.playerHand),""),r(),c("ngIf",!n.gameOver),r(),c("ngIf",n.message),r(),c("ngIf",n.canContinue&&n.lives>0),r(),c("ngIf",n.lives<=0))},dependencies:[S,w,b],styles:[".mesa[_ngcontent-%COMP%]{background-image:url(/assets/blackjack/fondopoker.png);background-size:cover;padding:20px;color:#fff;text-align:center}img[_ngcontent-%COMP%]{height:120px;margin:5px;object-fit:cover}.back-card[_ngcontent-%COMP%]{height:120px;width:84px}.result-message[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-top:20px;color:gold;text-shadow:2px 2px #000}"]})}}return t})();function le(t,d){if(t&1&&(s(0,"div",7)(1,"p"),o(2,"Carta anterior:"),a(),_(3,"img",8),a()),t&2){let e=l();r(3),c("src",e.previousCard.image,v)}}function de(t,d){if(t&1&&(s(0,"div",7)(1,"p"),o(2,"Carta actual:"),a(),_(3,"img",9),a()),t&2){let e=l();r(3),c("src",e.currentCard.image,v)}}function me(t,d){if(t&1&&(s(0,"div",7)(1,"p"),o(2,"Carta que caus\xF3 la derrota:"),a(),_(3,"img",10),a()),t&2){let e=l();r(3),c("src",e.nextCard.image,v)}}function pe(t,d){if(t&1){let e=x();s(0,"div",1)(1,"div",11)(2,"button",12),p("click",function(){u(e);let n=l();return h(n.adivinar("mayor"))}),o(3,"Mayor"),a(),s(4,"button",13),p("click",function(){u(e);let n=l();return h(n.adivinar("menor"))}),o(5,"Menor"),a()()()}if(t&2){let e=l();r(2),c("disabled",e.loading),r(2),c("disabled",e.loading)}}function ue(t,d){if(t&1){let e=x();s(0,"div",14)(1,"p"),o(2),a(),s(3,"button",15),p("click",function(){u(e);let n=l();return h(n.startGame())}),o(4,"Reiniciar"),a()()}if(t&2){let e=l();r(2),C(e.errorMessage)}}function he(t,d){if(t&1&&(s(0,"p"),o(1),a()),t&2){let e=l();r(),f("Cartas restantes: ",52-e.cartasRestantes-1,"")}}var L=(()=>{class t{constructor(e){this.deckService=e,this.deckId="",this.currentCard=null,this.previousCard=null,this.nextCard=null,this.score=0,this.cartasRestantes=0,this.errorMessage="",this.loading=!1}ngOnInit(){this.startGame()}startGame(){this.score=0,this.errorMessage="",this.previousCard=null,this.currentCard=null,this.nextCard=null,this.deckService.createDeck(1).subscribe(e=>{this.deckId=e.deck_id,this.deckService.drawCards(this.deckId,1).subscribe(i=>{this.currentCard=i.cards[0]})})}getCardValue(e){return{ACE:14,KING:13,QUEEN:12,JACK:11,10:10,9:9,8:8,7:7,6:6,5:5,4:4,3:3,2:2}[e.value]}adivinar(e){this.currentCard&&(this.loading=!0,this.deckService.drawCards(this.deckId,1).subscribe(i=>{if(this.loading=!1,i.cards.length===0){this.errorMessage=`No quedan m\xE1s cartas. Tu puntaje final fue ${this.score}.`;return}this.nextCard=i.cards[0];let n=this.getCardValue(this.nextCard),m=this.getCardValue(this.currentCard);e==="mayor"&&n>m||e==="menor"&&n<m?(this.score+=100,this.cartasRestantes++,this.previousCard=this.currentCard,this.currentCard=this.nextCard,this.nextCard=null):this.errorMessage=`Fallaste. Tu puntaje final fue ${this.score}.`}))}static{this.\u0275fac=function(i){return new(i||t)(j(F))}}static{this.\u0275cmp=k({type:t,selectors:[["app-mayor-y-menor"]],standalone:!0,features:[y],decls:10,vars:7,consts:[[1,"juego-mayor-menor","container","text-center","mt-4","mt-4","text-white","p-4","rounded"],[1,"mb-4"],[1,"row","justify-content-center","mb-4"],["class","col-12 col-md-3",4,"ngIf"],["class","mb-4",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[4,"ngIf"],[1,"col-12","col-md-3"],["alt","Carta anterior",1,"img-fluid",3,"src"],["alt","Carta actual",1,"img-fluid",3,"src"],["alt","Carta derrota",1,"img-fluid",3,"src"],[1,"btn-group"],[1,"btn","btn-success",3,"click","disabled"],[1,"btn","btn-danger",3,"click","disabled"],[1,"alert","alert-danger"],[1,"btn","btn-primary","mt-2",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0)(1,"h2",1),o(2),a(),s(3,"div",2),g(4,le,4,1,"div",3)(5,de,4,1,"div",3)(6,me,4,1,"div",3),a(),g(7,pe,6,2,"div",4)(8,ue,5,1,"div",5)(9,he,2,1,"p",6),a()),i&2&&(r(2),f("Puntaje: ",n.score,""),r(2),c("ngIf",n.previousCard),r(),c("ngIf",n.currentCard),r(),c("ngIf",n.errorMessage&&n.nextCard),r(),c("ngIf",!n.errorMessage),r(),c("ngIf",n.errorMessage),r(),c("ngIf",n.deckId))},dependencies:[S,b],styles:[".juego-mayor-menor[_ngcontent-%COMP%]{text-align:center}.juego-mayor-menor[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;padding:10px 20px;font-size:18px}.juego-mayor-menor[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid #444;border-radius:8px;margin:10px}"]})}}return t})();var K=(()=>{class t{constructor(e){this.http=e,this.apiUrl="https://api.sampleapis.com/avatar/characters"}getCharacters(){return this.http.get(this.apiUrl)}static{this.\u0275fac=function(i){return new(i||t)(E(A))}}static{this.\u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var fe=(t,d,e)=>({"bg-success":t,"bg-warning":d,"bg-danger":e});function _e(t,d){if(t&1){let e=x();s(0,"button",11),p("click",function(){let n=u(e).$implicit,m=l(2);return h(m.seleccionar(n))}),o(1),a()}if(t&2){let e=d.$implicit;r(),f(" ",e.name," ")}}function xe(t,d){if(t&1){let e=x();s(0,"div",3)(1,"p"),o(2,"Vidas restantes: "),s(3,"strong"),o(4),a()(),s(5,"p"),o(6,"Aciertos: "),s(7,"strong"),o(8),a(),o(9),a(),s(10,"h4",4),o(11,"Tiempo restante"),a(),s(12,"div",5)(13,"div",6),o(14),a()(),_(15,"img",7),s(16,"div",8),g(17,_e,2,1,"button",9),a(),_(18,"hr"),s(19,"button",10),p("click",function(){u(e);let n=l();return h(n.salir())}),o(20,"Salir"),a()()}if(t&2){let e=l();r(4),C(e.vidas),r(4),C(e.aciertos),r(),f(" / ",e.objetivoAciertos,""),r(4),z("width",e.tiempoRestante*100,"%"),c("ngClass",J(9,fe,e.tiempoRestante>40,e.tiempoRestante<=40&&e.tiempoRestante>20,e.tiempoRestante<=20)),r(),f(" ",e.tiempoRestante,"s "),r(),c("src",e.personajeActual==null?null:e.personajeActual.image,v),r(2),c("ngForOf",e.opciones)}}function ve(t,d){if(t&1){let e=x();s(0,"div",12)(1,"h2",13),o(2),a(),s(3,"div",14)(4,"button",15),p("click",function(){u(e);let n=l();return h(n.reiniciarJuego())}),o(5,"Reiniciar"),a(),s(6,"button",10),p("click",function(){u(e);let n=l();return h(n.salir())}),o(7,"Salir"),a()()()}if(t&2){let e=l();r(2),C(e.mensajeFinal)}}var Q=(()=>{class t{constructor(e,i){this.avatarService=e,this.router=i,this.personajes=[],this.opciones=[],this.tiempoRestante=60,this.vidas=3,this.puntaje=0,this.aciertos=0,this.mensaje="",this.preguntaActiva=!1,this.mensajeFinal="",this.objetivoAciertos=5,this.juegoTerminado=!1}ngOnInit(){this.avatarService.getCharacters().subscribe(e=>{this.personajes=e.filter(i=>i.name&&i.image),this.preguntaActiva=!0,this.iniciarTemporizador(),this.setPregunta()})}setPregunta(){if(this.juegoTerminado)return;this.personajeActual=this.personajes[Math.floor(Math.random()*this.personajes.length)],this.personajeActual=this.limpiarImagen(this.personajeActual);let e=new Set;for(e.add(this.personajeActual);e.size<3;){let i=this.personajes[Math.floor(Math.random()*this.personajes.length)];e.add(i)}this.opciones=Array.from(e).sort(()=>Math.random()-.5)}limpiarImagen(e){if(console.log(e.image),e.image){let i=e.image.indexOf(".png"),n=e.image.indexOf(".jpg"),m=-1;i!==-1?m=i+4:n!==-1&&(m=n+4),m!==-1&&(e.image=e.image.substring(0,m))}return e}seleccionar(e){if(!this.juegoTerminado){if(e.name===this.personajeActual.name?(this.aciertos++,this.mensaje="\xA1Correcto!"):(this.vidas--,this.mensaje=`Incorrecto. Era ${this.personajeActual.name}`),this.aciertos>=this.objetivoAciertos){this.finalizarJuego(!0);return}if(this.vidas<=0){this.finalizarJuego(!1);return}setTimeout(()=>{this.mensaje="",this.setPregunta()},1e3)}}iniciarTemporizador(){this.detenerTemporizador(),this.timer=setInterval(()=>{this.tiempoRestante--,this.tiempoRestante<=0&&this.finalizarJuego(!1)},1e3)}detenerTemporizador(){this.timer&&clearInterval(this.timer)}finalizarJuego(e){if(this.juegoTerminado=!0,this.preguntaActiva=!1,this.detenerTemporizador(),e){let i=Math.min(Math.floor(this.tiempoRestante/10),10);this.puntaje=this.aciertos*100*Math.max(i,1),this.mensajeFinal=`\xA1Ganaste! Puntaje: ${this.puntaje}`}else this.puntaje=0,this.mensajeFinal="Perdiste. \xA1Intenta de nuevo!"}reiniciarJuego(){this.aciertos=0,this.vidas=3,this.tiempoRestante=60,this.mensaje="",this.mensajeFinal="",this.juegoTerminado=!1,this.preguntaActiva=!0,this.iniciarTemporizador(),this.setPregunta()}salir(){this.detenerTemporizador(),this.preguntaActiva=!1,this.mensaje="",this.mensajeFinal="",this.router.navigate(["/home"])}static{this.\u0275fac=function(i){return new(i||t)(j(K),j($))}}static{this.\u0275cmp=k({type:t,selectors:[["app-preguntado"]],standalone:!0,features:[y],decls:3,vars:2,consts:[[1,"container","mt-5","text-center","text-white"],["class","mt-4",4,"ngIf"],["class","mt-5",4,"ngIf"],[1,"mt-4"],[1,"mb-3"],[1,"progress","mb-3",2,"height","25px"],["role","progressbar",1,"progress-bar",3,"ngClass"],[1,"img-fluid","mb-4","rounded","shadow",2,"max-height","300px",3,"src"],[1,"d-grid","gap-2","col-6","mx-auto"],["class","btn btn-outline-warning",3,"click",4,"ngFor","ngForOf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-outline-warning",3,"click"],[1,"mt-5"],[1,"text-success"],[1,"mt-3"],[1,"btn","btn-primary","me-2",3,"click"]],template:function(i,n){i&1&&(s(0,"div",0),g(1,xe,21,13,"div",1)(2,ve,8,1,"div",2),a()),i&2&&(r(),c("ngIf",n.preguntaActiva),r(),c("ngIf",n.mensajeFinal))},dependencies:[S,w,N,b],styles:["img[_ngcontent-%COMP%]{border-radius:10px;box-shadow:0 0 10px #aaa}.salir[_ngcontent-%COMP%]{bottom:20px;right:20px;z-index:10}"]})}}return t})();var Ce=[{path:"Ahorcado",component:G},{path:"Blackjack",component:Y},{path:"MayoryMenor",component:L},{path:"Preguntado",component:Q}],q=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=T({imports:[O.forChild(Ce),O]})}}return t})();var Ne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=V({type:t})}static{this.\u0275inj=T({imports:[b,q]})}}return t})();export{Ne as JuegosModule};
